/*!CK:2893730527!*//*1443045864,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["40CqR"]); }

__d('XUICarouselArrow.react',['Link.react','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'XUICarouselArrow',propTypes:{onClick:l.func,disabled:l.bool.isRequired},render:function(){var n=this.props,o=n.children,p=n.className,q=n.disabled,r=n.onClick;p=k(p,"_-op"+(q?' '+"_-oq":''));return (i.createElement(h,{className:p,onClick:r},o));}});f.exports=m;},null);
__d('VideoChannelHistory',['computeRelativeURI','goURI','LinkController','PageTransitions','URI','UserAgent'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();function n(o,p){'use strict';this.$VideoChannelHistory1=o;this.$VideoChannelHistory1.setHistory(this);this.$VideoChannelHistory2=p;this.$VideoChannelHistory3=[];this.$VideoChannelHistory4=null;this.$VideoChannelHistory5=false;var q=this.$VideoChannelHistory1.getTempURL();if(q)this.$VideoChannelHistory3.push(q);j.registerHandler(this.$VideoChannelHistory6.bind(this));k.registerHandler(this.$VideoChannelHistory7.bind(this));}n.prototype.updateURL=function(){'use strict';var o=this.$VideoChannelHistory2.getVideoController(),p=o.getVideoURL(),q=this.$VideoChannelHistory3.length>0?this.$VideoChannelHistory3[this.$VideoChannelHistory3.length-1]:null;if(p===q)return;this.$VideoChannelHistory3.push(p);this.$VideoChannelHistory5=true;i(new l(p));};n.prototype.onDialogHide=function(){'use strict';this.$VideoChannelHistory8();};n.prototype.getStoryIndexOfURL=function(o){'use strict';var p=this.$VideoChannelHistory1.getVideoControllers(),q=p.find(function(t){return t.getVideoURL()===o;});if(q){var r=this.$VideoChannelHistory2.getStoryForVideoController(q);if(r){var s=this.$VideoChannelHistory2.getStoryIndex(r);return s;}}return -1;};n.prototype.$VideoChannelHistory7=function(o){'use strict';if(this.$VideoChannelHistory5){this.$VideoChannelHistory5=false;if(this.$VideoChannelHistory4){setTimeout(i.bind(null,this.$VideoChannelHistory4),0);this.$VideoChannelHistory4=null;}k.transitionComplete();return true;}if(!this.$VideoChannelHistory1.isOpen())return false;var p=o.getUnqualifiedURI().toString(),q=this.$VideoChannelHistory3.lastIndexOf(p);if(q>-1){var r=q+1,s=this.$VideoChannelHistory3.length-r;this.$VideoChannelHistory3.splice(r,s);}var t=this.getStoryIndexOfURL(p);if(t>=0){this.$VideoChannelHistory2.updateActiveStory(t);k.transitionComplete();return true;}this.$VideoChannelHistory1.close();k.transitionComplete();return true;};n.prototype.$VideoChannelHistory6=function(o){'use strict';if(!this.$VideoChannelHistory1.isOpen())return true;var p=h(k.getMostRecentURI().getQualifiedURI(),o.getAttribute('href')).toString();if(this.$VideoChannelHistory1.getOriginalURL()===p){this.$VideoChannelHistory8();this.$VideoChannelHistory1.close();return false;}this.$VideoChannelHistory4=p;this.$VideoChannelHistory8();this.$VideoChannelHistory1.close();return false;};n.prototype.$VideoChannelHistory8=function(){'use strict';this.$VideoChannelHistory5=true;var o=!m.isBrowser('Opera'),p=this.$VideoChannelHistory3.length;if(o&&p<window.history.length){window.history.go(-p);}else i(new l(this.$VideoChannelHistory1.getOriginalURL()));};f.exports=n;},null);
__d('VideoStripThumbnailPlaceholder.react',['React','ReactComponentWithPureRenderMixin','XUICarouselItem.react','cx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'VideoStripThumbnailPlaceholder',mixins:[i],propTypes:{pageLead:l.bool,thumbnailWidth:l.number.isRequired,thumbnailHeight:l.number.isRequired},render:function(){var n=this.props.thumbnailWidth,o=this.props.thumbnailHeight,p={height:o+'px',width:n+'px'},q="_4n83"+(this.props.pageLead?' '+"_3ger":''),r=h.createElement('span',{className:q,style:p},h.createElement('div',{className:"_4n84"}));return (h.createElement(j,{selected:false},r));}});f.exports=m;},null);
__d('VideoStripThumbnailCarousel.react',['CSS','DOM','DOMContainer.react','Image.react','React','ReactComponentWithPureRenderMixin','VideoStripThumbnailPlaceholder.react','XUICarousel.react','XUICarouselAnimator','XUICarouselArrow.react','XUICarouselItem.react','csx','cx','fbt','invariant','ix','shallowCompare'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){if(c.__markCompiled)c.__markCompiled();var y,z,aa=l.PropTypes,ba=85,ca=8,da=16,ea=60,fa=8,ga=16;y=babelHelpers.inherits(ha,l.Component);z=y&&y.prototype;function ha(ia,ja){'use strict';z.constructor.call(this,ia,ja);this.$VideoStripThumbnailCarousel1=0;this.$VideoStripThumbnailCarousel2=0;this.$VideoStripThumbnailCarousel3=0;this.$VideoStripThumbnailCarousel4=0;this.$VideoStripThumbnailCarousel5=0;this.state={pageNumber:0};}ha.prototype.shouldComponentUpdate=function(ia,ja){'use strict';return x(this,ia,ja);};ha.prototype.componentWillUpdate=function(ia,ja){'use strict';if(this.state.pageNumber===ja.pageNumber){this.$VideoStripThumbnailCarousel5=Math.floor(ia.index/this.$VideoStripThumbnailCarousel3);if(ja.pageNumber!==this.$VideoStripThumbnailCarousel5)this.setState({pageNumber:this.$VideoStripThumbnailCarousel5});}else this.$VideoStripThumbnailCarousel5=ja.pageNumber;};ha.prototype.$VideoStripThumbnailCarousel6=function(){'use strict';var ia=ha.calculateThumbDimensions(this.props.dialogWidth,this.props.extraThumbnailHeight);this.$VideoStripThumbnailCarousel1=ia.width;this.$VideoStripThumbnailCarousel2=ia.height;this.$VideoStripThumbnailCarousel3=ia.thumbnailsPerPage;this.$VideoStripThumbnailCarousel4=this.$VideoStripThumbnailCarousel7(this.$VideoStripThumbnailCarousel1);};ha.calculateThumbDimensions=function(ia,ja){'use strict';var ka=ba+ja,la=ka*1.7778,ma=ia-da,na=Math.floor(ma/(la+ca)),oa=ma-na*ca,pa=Math.ceil(oa/(na+.5)),qa=pa*.5625;return {width:pa,height:qa,thumbnailsPerPage:na};};ha.getVideoStripHeight=function(ia,ja){'use strict';var ka=ha.calculateThumbDimensions(ia,ja);return ka.height+fa+ga;};ha.prototype.$VideoStripThumbnailCarousel7=function(ia){'use strict';var ja=this.props.dialogWidth,ka=this.props.thumbnails.length+this.props.pendingThumbnails+this.props.pendingPreviousThumbnails;return Math.min(ja,ka*(ia+ca));};ha.prototype.$VideoStripThumbnailCarousel8=function(ia,ja,ka,la,ma){'use strict';if(la===this.props.dialogWidth&&ma===0&&this.props.pendingPreviousThumbnails===0){h.addClass(ia,"_3ger");}else h.removeClass(ia,"_3ger");var na=i.find(ia,"._38a3");i.setAttributes(ia,{style:{width:ja+'px'}});i.setAttributes(na,{style:{width:ja+'px',height:ka+'px'}});return (l.createElement(r,{key:ma},l.createElement(j,null,ia)));};ha.prototype.$VideoStripThumbnailCarousel9=function(ia){'use strict';!(this.$VideoStripThumbnailCarousel5!==0)?v(0):undefined;this.setState({pageNumber:this.$VideoStripThumbnailCarousel5-1});ia.stopPropagation();};ha.prototype.$VideoStripThumbnailCarousel10=function(ia,ja){'use strict';var ka=this.$VideoStripThumbnailCarousel5+1;if(ja)ka=0;this.setState({pageNumber:ka});ia.stopPropagation();};ha.prototype.$VideoStripThumbnailCarousel11=function(ia){'use strict';var ja=(this.$VideoStripThumbnailCarousel2-ea)/2,ka={marginTop:ja+'px'};return [l.createElement('div',{className:"_1ed1",style:ka},l.createElement(q,{disabled:this.$VideoStripThumbnailCarousel5===0,onClick:(function(la){return this.$VideoStripThumbnailCarousel9(la);}).bind(this)},l.createElement(k,{alt:u._("Anterior"),src:w('/images/vault/arrow_left.png')}))),l.createElement('div',{className:"_1ed1",style:ka},l.createElement(q,{disabled:false,onClick:(function(la){return this.$VideoStripThumbnailCarousel10(la,ia);}).bind(this)},l.createElement(k,{alt:u._("Avan\u00e7ar"),src:w('/images/vault/arrow_right.png')})))];};ha.prototype.render=function(){'use strict';this.$VideoStripThumbnailCarousel6();var ia=new p({type:'horizontal'}),ja=null,ka=this.$VideoStripThumbnailCarousel3*this.$VideoStripThumbnailCarousel5,la=ka+this.$VideoStripThumbnailCarousel3,ma=Math.min(la,this.props.thumbnails.length-1);if(this.$VideoStripThumbnailCarousel4===this.props.dialogWidth&&this.props.pendingThumbnails===0){var na=la>this.props.thumbnails.length;ja=this.$VideoStripThumbnailCarousel11(na);}var oa=this.props.thumbnails,pa=[];for(var qa=0;qa<this.props.pendingPreviousThumbnails;qa++)pa.push(l.createElement(n,{pageLead:qa===0,thumbnailWidth:this.$VideoStripThumbnailCarousel1,thumbnailHeight:this.$VideoStripThumbnailCarousel2,key:qa-this.props.pendingPreviousThumbnails}));for(qa=ka;qa<=la;qa++)if(qa<=ma){pa.push(this.$VideoStripThumbnailCarousel8(oa[qa],this.$VideoStripThumbnailCarousel1,this.$VideoStripThumbnailCarousel2,this.$VideoStripThumbnailCarousel4,qa-ka));}else if(qa<=ma+this.props.pendingThumbnails)pa.push(l.createElement(n,{thumbnailWidth:this.$VideoStripThumbnailCarousel1,thumbnailHeight:this.$VideoStripThumbnailCarousel2,key:qa-ka}));return (l.createElement(o,{animator:ia,arrows:ja,initialAutoplay:false,initialIndex:0,onItemClick:function(){return null;},resizeViewport:'disabled',viewportHeight:this.$VideoStripThumbnailCarousel2+fa,viewportWidth:this.$VideoStripThumbnailCarousel4,wrapAround:this.$VideoStripThumbnailCarousel5!==0},pa));};ha.propTypes={dialogWidth:aa.number.isRequired,extraThumbnailHeight:aa.number.isRequired,pendingThumbnails:aa.number.isRequired,pendingPreviousThumbnails:aa.number.isRequired,thumbnails:aa.arrayOf(aa.object).isRequired,index:aa.number.isRequired};f.exports=ha;},null);
__d('VideoChannelUpNextUnit.react',['DOM','Link.react','React','ReactComponentWithPureRenderMixin','csx','cx','getElementText'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=j.PropTypes,p=320,q=j.createClass({displayName:'VideoChannelUpNextUnit',mixins:[k],propTypes:{dialogWidth:o.number.isRequired,onClick:o.func.isRequired,thumbnail:o.object.isRequired},render:function(){var r=this.props.thumbnail,s=h.find(r,"._56dc"),t=h.find(r,"._38a4"),u=s.style.backgroundImage,v=n(t),w={backgroundImage:u},x=(this.props.dialogWidth-p)/2,y={marginLeft:x+'px'};return (j.createElement(i,{className:"_4fxr",href:'#',onClick:this.props.onClick,style:y},j.createElement('div',{className:"_4fxs",style:w}),j.createElement('div',{className:"_4fxt"},j.createElement('div',{className:"_4fxu"},'Up Next:'),j.createElement('div',{className:"_4fxw"},v))));}});f.exports=q;},null);
__d('VideoChannelProgressCircle.react',['Image.react','React','Style','cx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'VideoChannelProgressCircle',_interval:0,_circlePerimeter:0,componentDidMount:function(){this.drawProgressCircle();},componentDidUpdate:function(){this.drawProgressCircle();},componentWillUnmount:function(){clearInterval(this._interval);},drawProgressCircle:function(){var n=i.findDOMNode(this.refs.progressCircle),o=this._circlePerimeter,p=o/100;j.set(n,'stroke-dashoffset',o+'px');if(this.props.makeProgress){this._interval=setInterval((function(){o-=p;j.set(n,'stroke-dashoffset',o+'px');if(o<=0){clearInterval(this._interval);this.props.onProgressDone();}}).bind(this),50);}else clearInterval(this._interval);},propTypes:{makeProgress:l.bool.isRequired,onProgressDone:l.func.isRequired},render:function(){this._circlePerimeter=38*2*Math.PI;return (i.createElement('div',null,i.createElement('svg',{className:"_20_8"},i.createElement('circle',{cx:'40',cy:'40',r:'38',stroke:'#ffffff',strokeWidth:'4',strokeDasharray:this._circlePerimeter,fill:'transparent'}),i.createElement('circle',{ref:'progressCircle',cx:'40',cy:'40',r:'38',stroke:'#5890ff',strokeWidth:'4',strokeDasharray:this._circlePerimeter,fill:'transparent'})),i.createElement(h,{className:"_3uya",src:'/images/video/channel_view/replay.svg'})));}});f.exports=m;},null);
__d("XVideoChannelViewDetailsAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/channel\/view\/details\/async\/{video_id}\/",{video_id:{type:"Int",required:true}});},null,{});
__d('VideoChannelInteraction',['Arbiter','AsyncRequest','CSS','DOM','Event','Keys','Map','React','Style','SubscriptionsHandler','VideoChannelController','VideoChannelHistory','VideoChannelUpNextUnit.react','VideoChannelProgressCircle.react','VideoPlayerAbortLoadingExperiment','VideoPlayerController','VideoPlayerReason','VideoStripThumbnailCarousel.react','XVideoChannelViewDetailsAsyncController','csx','cx','fbt','getVendorPrefixedName','invariant','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){if(c.__markCompiled)c.__markCompiled();var ga=5000,ha=40,ia=175;function ja(ka){'use strict';this.$VideoChannelInteraction1=ka;this.$VideoChannelInteraction2=false;this.$VideoChannelInteraction3=0;this.$VideoChannelInteraction4=0;this.$VideoChannelInteraction5=[];this.$VideoChannelInteraction6=null;this.$VideoChannelInteraction7=[];this.$VideoChannelInteraction8=false;this.$VideoChannelInteraction9=false;this.$VideoChannelInteraction10=new n();this.$VideoChannelInteraction11=new n();this.$VideoChannelInteraction12=new q();this.$VideoChannelInteraction13=k.create('a',{href:'#',className:"_5yhq"});this.$VideoChannelInteraction14=k.create('a',{href:'#',className:"_5yhr"});this.$VideoChannelInteraction15=k.create('div',{className:"_1szy"});this.$VideoChannelInteraction16=k.create('div',{className:"_1szz"},this.$VideoChannelInteraction15);this.$VideoChannelInteraction17();this.$VideoChannelInteraction12.addSubscriptions(l.listen(document,'mousemove',this.$VideoChannelInteraction18.bind(this)),l.listen(document,'click',this.$VideoChannelInteraction18.bind(this)),l.listen(document,'keydown',this.$VideoChannelInteraction19.bind(this)),l.listen(this.$VideoChannelInteraction13,'click',this.$VideoChannelInteraction20.bind(this)),l.listen(this.$VideoChannelInteraction14,'click',this.$VideoChannelInteraction21.bind(this)));this.$VideoChannelInteraction22();this.$VideoChannelInteraction23();this.$VideoChannelInteraction24();this.$VideoChannelInteraction25=new s(ka,this);}ja.prototype.$VideoChannelInteraction24=function(){'use strict';this.$VideoChannelInteraction26=0;this.$VideoChannelInteraction27=false;this.$VideoChannelInteraction12.addSubscriptions(h.subscribe('layer_shown',(function(ka,la){if(la.type==='DialogX'||la.type==='PhotoSnowlift'){this.$VideoChannelInteraction26=this.$VideoChannelInteraction26+1;if(this.$VideoChannelInteraction26>0){var ma=this.getVideoController();if(ma.isState('playing')){ma.pause(x.PAGE_VISIBILITY);this.$VideoChannelInteraction27=true;}}}}).bind(this)),h.subscribe('layer_hidden',(function(ka,la){if(la.type==='DialogX'||la.type==='PhotoSnowlift'){this.$VideoChannelInteraction26=this.$VideoChannelInteraction26-1;if(this.$VideoChannelInteraction26===0&&this.$VideoChannelInteraction27){var ma=this.getVideoController();ma.play(x.PAGE_VISIBILITY);this.$VideoChannelInteraction27=false;}}}).bind(this)));};ja.prototype.onChannelClose=function(){'use strict';this.$VideoChannelInteraction12&&this.$VideoChannelInteraction12.release();this.$VideoChannelInteraction28&&this.$VideoChannelInteraction28.abandon();clearTimeout(this.$VideoChannelInteraction29);this.$VideoChannelInteraction30();};ja.prototype.onWindowResize=function(){'use strict';this.$VideoChannelInteraction22();this.$VideoChannelInteraction31();this.$VideoChannelInteraction32(0,0);};ja.prototype.$VideoChannelInteraction22=function(){'use strict';var ka=this.$VideoChannelInteraction33,la=(this.$VideoChannelInteraction1.getAvailableWidth()-this.$VideoChannelInteraction1.getVideoWidth())/2;p.set(ka,'left',la+'px');var ma=(this.$VideoChannelInteraction1.getAvailableHeight()-this.$VideoChannelInteraction1.getVideoHeight())/2;p.set(ka,'top',ma+'px');p.set(ka,'width',this.$VideoChannelInteraction1.getVideoWidth()+'px');p.set(ka,'height',this.$VideoChannelInteraction1.getVideoHeight()+'px');};ja.prototype.isCenterVideoActive=function(){'use strict';return this.$VideoChannelInteraction3===0;};ja.prototype.$VideoChannelInteraction34=function(){'use strict';return this.$VideoChannelInteraction3+this.$VideoChannelInteraction4;};ja.prototype.$VideoChannelInteraction35=function(ka){'use strict';return ka+this.$VideoChannelInteraction4;};ja.prototype.$VideoChannelInteraction36=function(ka){'use strict';return ka-this.$VideoChannelInteraction4;};ja.prototype.$VideoChannelInteraction31=function(){'use strict';var ka=this.$VideoChannelInteraction33,la=this.$VideoChannelInteraction1.getVideoWidth(),ma=this.$VideoChannelInteraction1.getAvailableWidth(),na=la+ha;for(var oa=0;oa<ka.children.length;oa++){var pa=oa-this.$VideoChannelInteraction34(),qa;if(pa===0){qa=this.$VideoChannelInteraction37?-1*ia:0;}else qa=na*pa;var ra=qa>ma*2||qa*-1>ma*2;p.set(ka.children[oa],'display',ra?'none':'');p.set(ka.children[oa],da('transform'),'translateX('+qa+'px)');}};ja.prototype.$VideoChannelInteraction38=function(){'use strict';return this.$VideoChannelInteraction1.getDialog();};ja.prototype.$VideoChannelInteraction39=function(){'use strict';return this.$VideoChannelInteraction1.getDialogContent();};ja.prototype.setTitle=function(ka){'use strict';k.setContent(this.$VideoChannelInteraction40,ka);};ja.prototype.$VideoChannelInteraction41=function(ka){'use strict';this.updateActiveStory(this.$VideoChannelInteraction35(ka));};ja.prototype.$VideoChannelInteraction20=function(event){'use strict';var ka=this.$VideoChannelInteraction34();if(ka<this.$VideoChannelInteraction33.children.length-1)this.updateActiveStory(ka+1);this.$VideoChannelInteraction18();if(event){event.stopPropagation();event.preventDefault();}};ja.prototype.$VideoChannelInteraction21=function(event){'use strict';var ka=this.$VideoChannelInteraction34();if(ka>=1)this.updateActiveStory(ka-1);this.$VideoChannelInteraction18();event.stopPropagation();event.preventDefault();};ja.prototype.updateActiveStory=function(ka){'use strict';var la=this.$VideoChannelInteraction34();if(la===ka)return;var ma=this.$VideoChannelInteraction40;if(ka>0){j.addClass(ma,"_36c6");}else j.removeClass(ma,"_36c6");var na=this.$VideoChannelInteraction33,oa=this.getVideoControllerForStory(na.children[la]);if(oa)oa.pause(x.USER);var pa=na.children[ka],qa=this.getVideoControllerForStory(pa),ra=null;if(na.children.length>ka+1)ra=this.getVideoControllerForStory(na.children[ka+1]);var sa=(function(){var ua=this.$VideoChannelInteraction34(),va=this.$VideoChannelInteraction33.children[ua];if(qa&&va===pa)qa.play(x.USER);if(oa&&v.canAbort)oa.abortLoading();if(ra)ra.preload();this.$VideoChannelInteraction25.updateURL();}).bind(this);this.$VideoChannelInteraction3=this.$VideoChannelInteraction36(ka);if(this.$VideoChannelInteraction37||this.$VideoChannelInteraction8){sa();}else var ta=l.listen(pa,'transitionend',(function(event){if(event.target===pa){ta.remove();if(this.$VideoChannelInteraction1.isOpen())sa();}}).bind(this));this.$VideoChannelInteraction42();};ja.prototype.$VideoChannelInteraction42=function(){'use strict';var ka=this.$VideoChannelInteraction33,la=this.$VideoChannelInteraction34();if(la>0){j.show(this.$VideoChannelInteraction14);}else j.hide(this.$VideoChannelInteraction14);for(var ma=0;ma<ka.children.length;ma++){var na=ma===la;j.conditionClass(ka.children[ma],"_1kfp",na);j.conditionClass(ka.children[ma],"_4rp6",!na);j.conditionClass(this.$VideoChannelInteraction5[ma],"_57j4",na);}this.$VideoChannelInteraction43=k.find(ka.children[la],"._2e_p");this.$VideoChannelInteraction43.insertBefore(this.$VideoChannelInteraction14,this.$VideoChannelInteraction43.firstChild);this.$VideoChannelInteraction43.appendChild(this.$VideoChannelInteraction13);if(la<ka.children.length-1||this.$VideoChannelInteraction1.hasNextPage()){j.show(this.$VideoChannelInteraction13);}else j.hide(this.$VideoChannelInteraction13);this.$VideoChannelInteraction31();if(la>=ka.children.length-2&&this.$VideoChannelInteraction1.hasNextPage()){this.$VideoChannelInteraction1.fetchStories(true,(function(oa,pa){this.appendStories(oa,pa);}).bind(this),(function(oa){this.showThumbnailPlaceholders(oa,true);}).bind(this));}else if(la===0){this.$VideoChannelInteraction1.fetchStories(false,(function(oa,pa){this.prependStories(oa,pa);}).bind(this),(function(oa){this.showThumbnailPlaceholders(oa,false);}).bind(this));}else this.$VideoChannelInteraction32(0,0);if(this.$VideoChannelInteraction37)this.$VideoChannelInteraction44(this.$VideoChannelInteraction33.children[la],this.getVideoController().getVideoID());};ja.prototype.showThumbnailPlaceholders=function(ka,la){'use strict';var ma,na;if(la){ma=ka;na=0;}else{ma=0;na=ka;}this.$VideoChannelInteraction32(ma,na);};ja.prototype.$VideoChannelInteraction18=function(){'use strict';this.$VideoChannelInteraction45();this.$VideoChannelInteraction29=setTimeout(this.$VideoChannelInteraction23.bind(this),ga);};ja.prototype.$VideoChannelInteraction19=function(ka){'use strict';this.$VideoChannelInteraction45();this.$VideoChannelInteraction29=setTimeout(this.$VideoChannelInteraction23.bind(this),ga);var la=j.hasClass(ka.target,"_gn2"),ma=this.$VideoChannelInteraction37&&j.hasClass(ka.target,"_54-z");if(la||ma||this.$VideoChannelInteraction26>0||this.getVideoController().isFullscreen())return;if(ka.keyCode===m.RIGHT){this.$VideoChannelInteraction20(ka);}else if(ka.keyCode===m.LEFT)this.$VideoChannelInteraction21(ka);};ja.prototype.$VideoChannelInteraction23=function(){'use strict';if(!this.$VideoChannelInteraction2){this.$VideoChannelInteraction2=true;j.addClass(this.$VideoChannelInteraction38().getRoot(),"_1kf_");}};ja.prototype.$VideoChannelInteraction45=function(){'use strict';clearTimeout(this.$VideoChannelInteraction29);if(this.$VideoChannelInteraction2){this.$VideoChannelInteraction2=false;j.removeClass(this.$VideoChannelInteraction38().getRoot(),"_1kf_");}};ja.prototype.$VideoChannelInteraction17=function(){'use strict';var ka=this.$VideoChannelInteraction39();this.$VideoChannelInteraction40=k.create('div',{className:"_5g7c"});k.prependContent(ka,this.$VideoChannelInteraction40);this.$VideoChannelInteraction33=k.create('div',{className:"_1kfk"});k.appendContent(ka,this.$VideoChannelInteraction33);this.$VideoChannelInteraction46=k.create('div');o.render(o.createElement('div',null,o.createElement('div',{className:"_r7b"},o.createElement('div',{className:"_r7d"})),o.createElement('div',{className:"_1sz-"})),this.$VideoChannelInteraction46);k.appendContent(ka,this.$VideoChannelInteraction46);this.$VideoChannelInteraction47=k.find(this.$VideoChannelInteraction38().getInnerContent(),"._r7d");this.$VideoChannelInteraction48=k.find(this.$VideoChannelInteraction46,"._1sz-");};ja.prototype.$VideoChannelInteraction49=function(ka){'use strict';var la=this.$VideoChannelInteraction34();if(!this.$VideoChannelInteraction8&&this.$VideoChannelInteraction5.length>la+1&&ka===this.getVideoController()){var ma=this.$VideoChannelInteraction5[la+1];if(ma){o.render(o.createElement(t,{dialogWidth:this.$VideoChannelInteraction1.getAvailableWidth(),onClick:this.$VideoChannelInteraction20.bind(this),thumbnail:ma}),this.$VideoChannelInteraction48);j.addClass(this.$VideoChannelInteraction46,"_1sz_");this.$VideoChannelInteraction9=true;}}};ja.prototype.$VideoChannelInteraction50=function(){'use strict';j.removeClass(this.$VideoChannelInteraction46,"_1sz_");this.$VideoChannelInteraction9=false;};ja.prototype.$VideoChannelInteraction51=function(ka){'use strict';ka.addListener('updateStatus',(function(la){if(la.position!==undefined){var ma=ka.getPlaybackDuration();if(ka===this.getVideoController()&&ma&&ma-la.position<5){if(!this.$VideoChannelInteraction9)this.$VideoChannelInteraction49(ka);}else this.$VideoChannelInteraction50();}}).bind(this));};ja.prototype.$VideoChannelInteraction52=function(ka){'use strict';ka.addListener('beginPlayback',this.$VideoChannelInteraction30.bind(this));ka.addListener('finishPlayback',(function(){var la=this.$VideoChannelInteraction34();if(la<this.$VideoChannelInteraction33.children.length-1||this.$VideoChannelInteraction53)if(ka===this.getVideoController()&&!ka.isFullscreen()){this.$VideoChannelInteraction54(!this.$VideoChannelInteraction37);l.listen(this.$VideoChannelInteraction15,'click',(function(){this.$VideoChannelInteraction30();this.getVideoController().play(x.USER);}).bind(this));}}).bind(this));};ja.prototype.$VideoChannelInteraction54=function(ka){'use strict';j.addClass(this.$VideoChannelInteraction43,"_1s-2");this.$VideoChannelInteraction43.appendChild(this.$VideoChannelInteraction16);o.render(o.createElement(u,{makeProgress:ka,onProgressDone:this.$VideoChannelInteraction55.bind(this)}),this.$VideoChannelInteraction15);};ja.prototype.$VideoChannelInteraction30=function(){'use strict';j.removeClass(this.$VideoChannelInteraction43,"_1s-2");o.unmountComponentAtNode(this.$VideoChannelInteraction15);};ja.prototype.$VideoChannelInteraction55=function(){'use strict';if(this.getVideoController().isState('finished')){this.$VideoChannelInteraction30();this.$VideoChannelInteraction20();}};ja.prototype.$VideoChannelInteraction32=function(ka,la){'use strict';o.render(o.createElement(y,{dialogWidth:this.$VideoChannelInteraction1.getAvailableWidth(),extraThumbnailHeight:this.$VideoChannelInteraction1.getExtraThumbnailHeight(),pendingThumbnails:ka,pendingPreviousThumbnails:la,thumbnails:this.$VideoChannelInteraction5.slice(0),index:this.$VideoChannelInteraction34()}),this.$VideoChannelInteraction47);};ja.prototype.getVideoController=function(){'use strict';var ka=this.$VideoChannelInteraction33.children[this.$VideoChannelInteraction34()],la=this.getVideoControllerForStory(ka);!la?ea(0):undefined;return la;};ja.prototype.$VideoChannelInteraction56=function(ka,la,ma){'use strict';var na;if(!ma){this.$VideoChannelInteraction4++;na=-this.$VideoChannelInteraction4;this.$VideoChannelInteraction33.insertBefore(ka,this.$VideoChannelInteraction33.childNodes[0]);this.$VideoChannelInteraction5.unshift(la);}else{na=this.$VideoChannelInteraction33.children.length-this.$VideoChannelInteraction4;this.$VideoChannelInteraction33.appendChild(ka);this.$VideoChannelInteraction5.push(la);}l.listen(ka,'click',this.$VideoChannelInteraction41.bind(this,na));l.listen(la,'click',(function(pa,event){if(this.$VideoChannelInteraction8){this.$VideoChannelInteraction41(pa);event.stopPropagation();}}).bind(this,na));if(!this.$VideoChannelInteraction11.has(ka.id)){var oa=this.$VideoChannelInteraction1.findVideoControllerForStory(ka);if(oa){this.$VideoChannelInteraction10.set(oa,ka);this.$VideoChannelInteraction11.set(ka.id,oa);}}};ja.prototype.$VideoChannelInteraction57=function(){'use strict';for(var ka=0;ka<this.$VideoChannelInteraction7.length;ka++){var la=this.$VideoChannelInteraction7[ka];p.set(la,'opacity','');}this.$VideoChannelInteraction6=null;this.$VideoChannelInteraction7=[];};ja.prototype.$VideoChannelInteraction58=function(ka){'use strict';if(!this.$VideoChannelInteraction6)this.$VideoChannelInteraction6=fa(this.$VideoChannelInteraction57.bind(this));this.$VideoChannelInteraction7.push(ka);p.set(ka,'opacity',0);};ja.prototype.setFirstStory=function(ka,la){'use strict';this.$VideoChannelInteraction58(k.find(ka,"._23if"));this.$VideoChannelInteraction58(k.find(ka,"._23ig"));this.$VideoChannelInteraction56(ka,la,true);var ma=this.$VideoChannelInteraction1.getOriginalVideoPlayerController();if(ma){var na=k.find(ka,"._1kg0"),oa=ma.getRootNode();k.replace(na,oa);ma.setDimensions(this.$VideoChannelInteraction1.getVideoWidth(),this.$VideoChannelInteraction1.getVideoHeight());if(!ma.isState('paused'))ma.play(x.USER);this.$VideoChannelInteraction51(ma);this.$VideoChannelInteraction52(ma);this.$VideoChannelInteraction10.set(ma,ka);this.$VideoChannelInteraction11.set(ka.id,ma);}this.$VideoChannelInteraction1.hideLoadingState();this.$VideoChannelInteraction59();this.$VideoChannelInteraction42();};ja.prototype.appendStories=function(ka,la){'use strict';for(var ma=0;ma<ka.length;ma++){var na=ka[ma],oa=la[ma];this.$VideoChannelInteraction58(k.find(na,"._2e_p"));this.$VideoChannelInteraction58(oa);this.$VideoChannelInteraction56(na,oa,true);}this.$VideoChannelInteraction32(0,0);this.$VideoChannelInteraction42();};ja.prototype.prependStories=function(ka,la){'use strict';ka=ka.reverse();la=la.reverse();for(var ma=0;ma<ka.length;ma++)this.$VideoChannelInteraction56(ka[ma],la[ma],false);this.$VideoChannelInteraction32(0,0);this.$VideoChannelInteraction42();};ja.prototype.$VideoChannelInteraction60=function(event){'use strict';event.preventDefault();if(this.$VideoChannelInteraction37)return;this.$VideoChannelInteraction37=true;this.$VideoChannelInteraction44(this.$VideoChannelInteraction33.children[this.$VideoChannelInteraction34()],this.getVideoController().getVideoID());j.addClass(this.$VideoChannelInteraction38().getRoot(),"_57bj");if(this.getVideoController().isState('finished'))this.$VideoChannelInteraction54(false);this.$VideoChannelInteraction31();};ja.prototype.$VideoChannelInteraction44=function(ka,la){'use strict';this.$VideoChannelInteraction28&&this.$VideoChannelInteraction28.abandon();var ma=k.scry(ka,"._260p")[0],na=z.getURIBuilder().setInt('video_id',la);if(ma){this.$VideoChannelInteraction28=new i().setRelativeTo(ma).setURI(na.getURI()).setMethod('GET').setReadOnly(true).setHandler((function(){this.$VideoChannelInteraction28=null;}).bind(this)).setErrorHandler((function(){this.$VideoChannelInteraction28=null;}).bind(this));this.$VideoChannelInteraction28.send();}};ja.prototype.$VideoChannelInteraction61=function(event){'use strict';this.$VideoChannelInteraction28&&this.$VideoChannelInteraction28.abandon();this.$VideoChannelInteraction37=false;j.removeClass(this.$VideoChannelInteraction38().getRoot(),"_57bj");this.$VideoChannelInteraction31();if(this.getVideoController().isState('finished'))this.$VideoChannelInteraction54(true);event.preventDefault();};ja.prototype.$VideoChannelInteraction59=function(){'use strict';var ka=this.$VideoChannelInteraction38().getRoot();if(this.$VideoChannelInteraction8){j.removeClass(ka,"_r7e");}else j.addClass(ka,"_r7e");this.$VideoChannelInteraction8=!this.$VideoChannelInteraction8;};ja.prototype.registerShowDetailsLink=function(ka){'use strict';this.$VideoChannelInteraction12.addSubscriptions(l.listen(ka,'click',this.$VideoChannelInteraction60.bind(this)));};ja.prototype.registerHideDetailsLink=function(ka){'use strict';this.$VideoChannelInteraction12.addSubscriptions(l.listen(ka,'click',this.$VideoChannelInteraction61.bind(this)));};ja.prototype.registerVideoController=function(ka){'use strict';this.$VideoChannelInteraction51(ka);this.$VideoChannelInteraction52(ka);var la=r.getVideoChannel();if(!la)return;la.registerVideoController(ka);if(this.$VideoChannelInteraction10.has(ka))return;var ma=this.$VideoChannelInteraction62(ka);if(ma){this.$VideoChannelInteraction10.set(ka,ma);this.$VideoChannelInteraction11.set(ma.id,ka);}};ja.prototype.$VideoChannelInteraction62=function(ka){'use strict';for(var la=0;la<this.$VideoChannelInteraction33.children.length;++la){var ma=this.$VideoChannelInteraction33.children[la];if(ma.contains(ka.getRootNode()))return ma;}return null;};ja.prototype.getVideoControllerForStory=function(ka){'use strict';return this.$VideoChannelInteraction11.get(ka.id);};ja.prototype.getStoryForVideoController=function(ka){'use strict';return this.$VideoChannelInteraction10.get(ka);};ja.prototype.getStoryIndex=function(ka){'use strict';for(var la=0;la<this.$VideoChannelInteraction33.children.length;++la)if(ka===this.$VideoChannelInteraction33.children[la])return la;return -1;};ja.$VideoChannelInteraction63=function(){'use strict';var ka=r.getVideoChannel();if(!ka)return null;var la=ka.getInteraction();if(!la){la=new ja(ka);ka.setInteraction(la);}return la;};ja.setTitle=function(ka){'use strict';var la=ja.$VideoChannelInteraction63();if(!la)return;la.setTitle(ka);};ja.setFirstStory=function(ka,la){'use strict';var ma=ja.$VideoChannelInteraction63();if(!ma)return;ma.setFirstStory(ka,la);};ja.registerShowDetailsLink=function(ka){'use strict';var la=ja.$VideoChannelInteraction63();if(!la)return;la.registerShowDetailsLink(ka);};ja.registerHideDetailsLink=function(ka){'use strict';var la=ja.$VideoChannelInteraction63();if(!la)return;la.registerHideDetailsLink(ka);};ja.registerVideoController=function(ka){'use strict';var la=ja.$VideoChannelInteraction63();if(!la)return;la.registerVideoController(ka);};f.exports=ja;},null);
__d('VideoChannelViewFeedbackController',['CSS','Event','UFICentralUpdates','UFIConstants','UFIFeedbackTargets','UFIUserActions','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o={registerLikeButton:function(p,q){this._updateLikeButton(p,q.ftEntID);var r=false;l.getFeedbackTarget(q.ftEntID,function(s){if(s)r=true;});if(!r)j.inform('update-feedback',{feedbacktargets:[q.feedbackTarget]});j.subscribe('feedback-updated',(function(s,t){if(q.ftEntID in t.updates)this._updateLikeButton(p,q.ftEntID);}).bind(this));i.listen(p,'click',this._onLikeButtonClick.bind(null,q.ftEntID,q.feedbackSource));},_updateLikeButton:function(p,q){l.getFeedbackTarget(q,function(r){if(r.viewercanlike)if(r.hasviewerliked){h.addClass(p,"_5xxy");}else h.removeClass(p,"_5xxy");});},_onLikeButtonClick:function(p,q,event){l.getFeedbackTarget(p,function(r){m.changeReaction(p,r.hasviewerliked?0:k.LikeReaction,{source:q,target:event.target});});}};f.exports=o;},null);
/*!CK:3735392854!*//*1442932703,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["68DN9"]); }

__d('AdsInterestsBrowseDataSource',['AdsSearchBrowseUtils','CurrentLocale','SearchableEntry'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=[],l,m;function n(r){l=o(r);m=h.generateTreeData(l);while(k.length){var s=k.pop();s();}k=[];}function o(r){var s,t,u,v={},w,x;for(var y=0;y<r.length;y++){s=r[y];t=s.parent_category;u=s.name;if(s.path&&s.path.length){w=s.path.slice();w.pop();}else w=null;if(w&&w.length>0){x=w.join(' > ')+' > '+u;}else{w=null;x=u;}v[x]={id:s.id,key:x,uniqueID:s.id,name:s.name,parentName:t,reach:s.audience_size,description:s.description,path:w,keywords:s.keywords,topic:s.topic};}return v;}var p;function q(r,s){'use strict';if(p)return p;if(r){this.dao=r;this.options=s||{};}}q.prototype.resetTreeData=function(){'use strict';m=null;};q.prototype.getTreeData=function(r){'use strict';if(m){this.$AdsInterestsBrowseDataSource1(r);}else{k.push(this.$AdsInterestsBrowseDataSource1.bind(this,r));this.$AdsInterestsBrowseDataSource2();}};q.prototype.getSearchDataElem=function(r){'use strict';if(l)return l[r];};q.prototype.dataToEntry=function(r){'use strict';var s=new j({uniqueID:r.uniqueID,title:r.name});s.id=r.id;s.key=r.key;s.numLeafCategories=r.numLeafCategories;s.path=r.path;s.reach=r.reach;s.name=r.name;s.description=r.description;s.source=r.source;s.topic=r.topic;s.isInHierarchy=true;return s;};q.prototype.getDao=function(){'use strict';return this.dao;};q.prototype.$AdsInterestsBrowseDataSource2=function(){'use strict';if(k.length!==1||!this.dao)return;this.dao.fetch.adInterestCategory.one(function(r){n(r);},{locale:i.get(),fetch_interest_groups:this.options.fetchInterestGroups});};q.prototype.$AdsInterestsBrowseDataSource1=function(r){'use strict';r(m);};q.prototype.$AdsInterestsBrowseDataSource3=function(r){'use strict';r(l);};q.getInstance=function(r,s){if(!p)p=new q(r,s);return p;};f.exports=q;},null);
__d('AdsInterestsSuggestionsDataSource',['AdInterfacesUiLogger','CurrentLocale','PublishedLocales','SearchableEntry'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m=20;function n(o){'use strict';if(o)this.dao=o;}n.prototype.getSuggestions=function(o,p){'use strict';if(!this.dao)return;this.dao.fetch.adInterestSuggestion.one(this.getSuggestionsCB.bind(this,p),{interest_list:o,offset:0,limit:m,locale:i.get()});var q=i.get();if(!(q in j))q='en_US';};n.prototype.getSuggestionsCB=function(o,p){'use strict';var q=p||[];if(!(q instanceof Array))return;var r=q.map(function(u){return {fbid:u.id,name:u.name};});h.log('unified_interest_sugggestions_returned',{results:r});var s,t=q.map(function(u,v){s=new k({uniqueID:u.id,title:u.name,order:v});s.name=u.name;s.reach=u.audience_size;s.path=u.path;if(u.path&&u.path.length){s.path=u.path.slice();s.path.pop();s.isInHierarchy=true;}s.description=u.description;return s;});o(t);};n.getInstance=function(o){if(!l)l=new n(o);return l;};f.exports=n;},null);
__d('AdsInterestsValidationDataSource',['SearchableEntry','CurrentLocale'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j;function k(l){'use strict';if(l)this.dao=l;}k.prototype.getMetadata=function(l,m,n){'use strict';if(!this.dao)return;this.dao.fetch.adInterestValid.one(this.getInterestsCB.bind(this,m),{interest_list:l,ignore_case:!n,locale:i.get()});};k.prototype.getMetadataFromFBID=function(l,m){'use strict';if(!this.dao)return;this.dao.fetch.adInterestValid.one(this.getInterestsCB.bind(this,m),{interest_fbid_list:l,locale:i.get()});};k.prototype.getInterestsCB=function(l,m){'use strict';var n=m||[];if(!(n instanceof Array))return;var o,p=[];n.forEach(function(q){if(!q.valid)return;o=new h({uniqueID:q.id,title:q.name});o.name=q.name;o.reach=q.audience_size;o.path=q.path;if(q.path&&q.path.length){o.path=q.path.slice();o.path.pop();o.isInHierarchy=true;}o.description=q.description;o.topic=q.topic;p.push(o);});l(p);};k.getInstance=function(l){if(!j)j=new k(l);return j;};f.exports=k;},null);
__d('AudienceInterestsSuggestionsDataSource',['CurrentLocale','GraphAPI','SearchableEntry'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=20;l.prototype.getSuggestions=function(m,n,o){i('2.4').search('audienceinterestsuggestion').get({interest_list:m,offset:0,limit:k,locale:h.get()}).done((function(p){return this.getSuggestionsCB(n,p.data);}).bind(this),function(p){return false;});};l.prototype.getSuggestionsCB=function(m,n){var o=n||[];if(!(o instanceof Array))return;var p,q=o.map(function(r){p=new j({uniqueID:r.id,title:r.name});p.name=r.name;p.reach=r.audience_size;p.path=r.path;if(r.path&&r.path.length){p.path=r.path.slice();p.path.pop();p.isInHierarchy=true;}p.description=r.description;p.topic=r.topic;return p;});m(q);};function l(){}f.exports=l;},null);
__d('AudienceInterestsValidationDataSource',['CurrentLocale','GraphAPI','SearchableEntry'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();k.prototype.getMetadata=function(l,m,n){i('2.4').search('audience_interest_validation').get({interest_list:l,ignore_case:!n,locale:h.get()}).done((function(o){return this.getInterestsCB(m,o.data);}).bind(this),function(o){return false;});};k.prototype.getMetadataFromFBID=function(l,m){i('2.4').search('audienceinterestvalidation').get({interest_fbid_list:l,locale:h.get()}).done((function(n){return this.getInterestsCB(m,n.data);}).bind(this),function(n){return false;});};k.prototype.getInterestsCB=function(l,m){var n=m||[];if(!(n instanceof Array))return;var o,p=[];n.forEach(function(q){if(!q.valid)return;o=new j({uniqueID:q.id,title:q.name});o.name=q.name;o.reach=q.audience_size;o.path=q.path;if(q.path&&q.path.length){o.path=q.path.slice();o.path.pop();o.isInHierarchy=true;}o.description=q.description;o.topic=q.topic;p.push(o);});l(p);};function k(){}f.exports=k;},null);
__d('AdsInterestsDeleteDialog.react',['AsyncRequest','LayerAutoFocus','LayerFadeOnHide','LayerHideOnEscape','React','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIDialogButton.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=l.PropTypes,t=400,u='/intern/ajax/ads/interest_taxonomy/delete',v=l.createClass({displayName:'AdsInterestsEditDialog',propTypes:{data:s.object.isRequired,refreshBrowseData:s.func},mixins:[m],getInitialState:function(){return {dialogShown:false};},show:function(event){this.setState({dialogShown:true});},_onToggle:function(w){setTimeout(this.setState.bind(this,{dialogShown:w},null),0);},renderLayers:function(){return {dialog:l.createElement(n,{shown:this.state.dialogShown,behaviors:{LayerFadeOnHide:j,LayerAutoFocus:i,LayerHideOnEscape:k},onToggle:this._onToggle,width:t},l.createElement(q,null,l.createElement('div',null,'Delete Interest')),l.createElement(o,null,'Are you sure you want to delete',' ',l.createElement('strong',null,this.props.data.name),' ?'),l.createElement(p,null,l.createElement(r,{label:'Cancel',action:'cancel'}),l.createElement(r,{label:'Delete',use:'confirm',action:'button',disabled:this.state.confirmDisabled,onClick:this._onConfirmClick})))};},render:function(){return (l.createElement('div',null));},_onConfirmClick:function(){this.setState({confirmDisabled:true});new h().setURI(u).setData({fbid:this.props.data.id}).setHandler((function(w){this.setState({dialogShown:false});this.props.refreshBrowseData();}).bind(this)).send();}});f.exports=v;},null);
__d('AdsInterestsEditDialog.react',['AsyncRequest','LayerAutoFocus','LayerFadeOnHide','LayerHideOnEscape','React','ReactDOM','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIDialogButton.react','XUITextInput.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=l.PropTypes,w=400,x='/intern/ajax/ads/interest_taxonomy/add',y='/intern/ajax/ads/interest_taxonomy/edit',z=l.createClass({displayName:'AdsInterestsEditDialog',propTypes:{allowAdvancedEditing:v.bool,data:v.object.isRequired,locale:v.string,type:v.string},mixins:[n],getInitialState:function(){return {dialogShown:false};},show:function(event){this.setState({dialogShown:true});},_onToggle:function(aa){setTimeout(this.setState.bind(this,{dialogShown:aa},null),0);},renderLayers:function(){var aa=this.props.data,ba,ca,da,ea,fa,ga;if(this.props.type==='Add'){ba=l.createElement('span',null,'Add New Interest');ca=aa.name;}else if(this.props.type==='Edit'){var ha=aa.path||[];ba=l.createElement('span',null,'Edit "',aa.name,'"');ca=ha.slice().pop();da=aa.id;ea=aa.name;fa=aa.description;ga=JSON.stringify(aa.keywords);}var ia=!this.props.allowAdvancedEditing?"hidden_elem":'';return {dialog:l.createElement(o,{shown:this.state.dialogShown,behaviors:{LayerFadeOnHide:j,LayerAutoFocus:i,LayerHideOnEscape:k},onToggle:this._onToggle,width:w},l.createElement(r,null,ba),l.createElement(p,null,l.createElement('table',{className:"_5qrl"},l.createElement('tbody',null,l.createElement('tr',{className:ia},l.createElement('td',null,l.createElement('label',null,'Parent Name')),l.createElement('td',null,l.createElement(t,{ref:'parentName',defaultValue:ca}))),l.createElement('tr',{className:ia},l.createElement('td',null,l.createElement('label',null,'Internal FBID')),l.createElement('td',null,l.createElement(t,{ref:'internalID',defaultValue:da}))),l.createElement('tr',null,l.createElement('td',null,l.createElement('label',null,'Display Name')),l.createElement('td',null,l.createElement(t,{ref:'displayName',defaultValue:ea}))),l.createElement('tr',null,l.createElement('td',null,l.createElement('label',null,'Description')),l.createElement('td',null,l.createElement(t,{ref:'description',defaultValue:fa}))),l.createElement('tr',{className:ia},l.createElement('td',null,l.createElement('label',null,'Internal Keywords')),l.createElement('td',null,l.createElement(t,{ref:'internalKeywords',defaultValue:ga})))))),l.createElement(q,null,l.createElement(s,{label:'Cancel',action:'cancel'}),l.createElement(s,{label:'Submit',use:'confirm',action:'button',disabled:this.props.confirmDisabled,onClick:this._onConfirmClick})))};},render:function(){return (l.createElement('div',null));},_onConfirmClick:function(){this.setState({confirmDisabled:true});var aa={fbid:this.props.data.id,parentName:m.findDOMNode(this.refs.parentName).childNodes[0].value,internalID:m.findDOMNode(this.refs.internalID).childNodes[0].value,displayName:m.findDOMNode(this.refs.displayName).childNodes[0].value,description:m.findDOMNode(this.refs.description).childNodes[0].value,internalKeywords:m.findDOMNode(this.refs.internalKeywords).childNodes[0].value,locale:this.props.locale},ba;if(this.props.type==='Add'){ba=x;}else if(this.props.type==='Edit')ba=y;new h().setURI(ba).setData(aa).setHandler((function(ca){this.setState({dialogShown:false});this.props.refreshBrowseData();}).bind(this)).send();}});f.exports=z;},null);
__d('AdsInterestsEditButtons.react',['AdsInterestsDeleteDialog.react','AdsInterestsEditDialog.react','React','ReactDOM','XUIDialogButton.react','adsGKCheck'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=m('ads_interests_taxonomy_tool_advanced'),p=j.createClass({displayName:'AdsInterestsEditButtons',propTypes:{data:n.object.isRequired,dataSource:n.object,refreshBrowseData:n.func},render:function(){var q=null,r=null;if(o){q=j.createElement(l,{label:'Add',onClick:this._onAddClick});if(!this.props.data.children)r=j.createElement(l,{label:'Delete',onClick:this._onDeleteClick});}return (j.createElement('div',null,q,j.createElement(l,{label:'Edit',onClick:this._onEditClick}),r,j.createElement('div',{ref:'dialogPlaceholder'})));},_onAddClick:function(){this._renderDialog('Add');},_onEditClick:function(){this._renderDialog('Edit');},_onDeleteClick:function(){this._renderDialog('Delete');},_renderDialog:function(q){k.unmountComponentAtNode(k.findDOMNode(this.refs.dialogPlaceholder));var r=this.props.dataSource.getDao(),s;if(r&&r.getRequestData&&r.getRequestData())s=r.getRequestData().locale;var t;if(q==='Delete'){t=new h({data:this.props.data,refreshBrowseData:this.props.refreshBrowseData,type:q});}else t=new i({allowAdvancedEditing:o,data:this.props.data,locale:s,refreshBrowseData:this.props.refreshBrowseData,type:q});t=k.render(t,k.findDOMNode(this.refs.dialogPlaceholder));t.show();}});f.exports=p;},null);
__d('AdsInterestsSearchSource',['AbstractSearchSource','AdsCreateFlowQueryLimits','AdsSearchBrowseUtils','CurrentLocale','SearchableEntry'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n,o;m=babelHelpers.inherits(p,h);n=m&&m.prototype;function p(q,r){'use strict';n.constructor.call(this);if(o){return o;}else{this.dao=q;this.options=r||{};return this;}}p.prototype.searchImpl=function(q,r,s){'use strict';if(!q){r([],q);return;}this.dao.fetch.adInterest.one((function(t){var u=[],v=t.data||t,w=q.toLowerCase();for(var x=0;x<v.length;x++){var y=v[x],z=y.id,aa=y.name,ba=new l({uniqueID:z,title:aa,order:x});ba.disambiguationCategory=y.disambiguation_category;ba.name=y.name;ba.reach=y.audience_size;ba.matchArray=j.getMatchedIndexArray(w,aa.toLowerCase());ba.path=y.path;if(y.path&&y.path.length){ba.path=y.path.slice();ba.path.pop();ba.isInHierarchy=true;}ba.description=y.description;ba.topic=y.topic;u.push(ba);if(u.length>i.TYPEAHEAD_LIMIT)break;}r(u,q);}).bind(this),{q:q,locale:k.get(),whitelisted_only:this.options.whitelistedInterestsOnly});};p.getInstance=function(q,r){if(!o)o=new p(q,r);return o;};f.exports=p;},null);
__d("AdsPreferencesConstants",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={CATEGORY_FILTERS:{NONE:"none",PAGE_LIKES:"page_likes",APP_INSTALLS:"app_installs",AD_CLICKS:"add_clicks",USER_ADDED:"user_added",BEHAVIORS:"behaviors",DEMOGRAPHICS:"demographics"}};f.exports=h;},null);
__d('AdsSBTokenizerExpandableListOld.react',['AdsSBAreaClicked','AdsSBTokenizerConstants','AdsInterestsEditButtons.react','AdsSBTokenizerPlusIcon.react','AdsSBTokenizerWhiteBox.react','ContextualLayer.react','ScrollableArea.react','React','ReactLayeredComponentMixin','AdInterfacesUiLogger','AdsSBTokenizerCheckBox.react','AdsFlexibleTargetingQETestConstant','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=s.NEW_SELECTION_STYLE,w=s.NEW_DROPDOWN_HEIGHT,x=o.PropTypes,y=23,z=15,aa=32,ba=i.TYPEAHEAD.HEIGHT,ca=i.WHITE_BOX.WIDTH,da,ea,fa=o.createClass({displayName:'AdsSBTokenizerExpandableListOld',mixins:[p],propTypes:{allowEdit:x.bool,data:x.array,dataSource:x.object.isRequired,className:x.string,onAddEntryAttempt:x.func,onRemoveEntryAttempt:x.func,openToPath:x.func,hidden:x.bool,selectedEntryIDs:x.object,uniqueID:x.string.isRequired,width:x.number.isRequired,showWhiteBox:x.bool,showPlusIcon:x.bool,rowHeight:x.number,reportedInterests:x.object,addReportedInterest:x.func,deleteReportedInterest:x.func,cfSection:x.string,initialAutoExpandEntryID:x.string,deltaObjectID:x.string,targetingSpecField:x.string},getDefaultProps:function(){return {rowHeight:aa,showWhiteBox:true,showPlusIcon:true};},getInitialState:function(){return {data:this.props.data||[]};},dataRetrieved:function(ha){if(!this.isMounted())return;this._expandChosenEntry(ha);this.setState({data:ha||[]});},_expandChosenEntry:function(ha){if(!this.props.initialAutoExpandEntryID)return;var ia=(ha||[]).find((function(ja){if(String(ja.uniqueID)===this.props.initialAutoExpandEntryID)return true;if(ja.children)this._expandChosenEntry(ja.children);return false;}).bind(this));if(ia)this._toggleExpand(ia);},componentDidMount:function(){this._retrieveData();},componentWillReceiveProps:function(ha){if(ha.data&&ha.data!==this.state.data)this.setState({data:ha.data});},componentDidUpdate:function(){if(da&&da>=this.props.rowHeight){da=da-this.props.rowHeight;this.refs&&this.refs.scrollArea&&this.refs.scrollArea.getArea().setScrollTop(da);ea=this.props.openPath;da=0;}},_retrieveData:function(){this.props.dataSource.resetTreeData&&this.props.dataSource.resetTreeData();this.props.dataSource.getTreeData(this.dataRetrieved);},render:function(){return o.createElement('div',{ref:'root'});},renderLayers:function(){if(this.props.hidden)return {};if(this.props.openPath&&this.props.openPath!=ea){da=0;this._openToPath(this.props.openPath,this.state.data);}var ha={level:0},ia=this.state.data.map(this._renderRow.bind(this,ha),this),ja=u("_6oz"+(' '+"clearfix"),this.props.className),ka={width:this.props.width},la={width:this.props.width,maxHeight:ba},ma;if(this._shouldShowWhiteBox(this.state.highlightedRow)){ma=o.createElement('div',{className:"_6o-"},o.createElement(l,babelHelpers._extends({},this.props,{info:this.state.highlightedRow,type:i.ACTIVE_STATES.BROWSE,deltaObjectID:this.props.deltaObjectID,selectedEntryIDs:this.props.selectedEntryIDs,targetingSpecField:this.props.targetingSpecField})));la.width=this.props.width+ca;}var na=o.createElement('div',{className:ja,onMouseDown:this._onMouseDown,onMouseLeave:this._onUnhighlight,style:la},o.createElement('div',{className:(!w?"_6p4":'')+(w?' '+"_18ki":''),style:ka,'data-testid':this.props.uniqueID+'_browse_list'},o.createElement(n,{ref:'scrollArea',width:this.props.width},o.createElement('ul',{className:"_6p5",style:{width:this.props.width-1}},ia)),ma));return {content:o.createElement(m,{alignment:'left',contextRef:(function(){return this.refs.root;}).bind(this),position:'below',shown:!this.props.hidden},na)};},_openToPath:function(ha,ia,ja){ja=ja?ja:0;var ka=ja<ha.length?ha[ja]:null;for(var la=0;la<ia.length;la++){var ma=ia[la];if(ka==ma.name){ma.listOpened=true;da+=(this.props.rowHeight+1)*(la+1);if(ma.children)this._openToPath(ha,ma.children,ja+1);}else ma.listOpened=false;}},_renderRow:function(ha,ia,ja){if(!ia||ia.length===0)return;if(ia instanceof Array&&ia.length)ia=ia[0];if(ia.invalid)return;var ka,la=ha.level,ma=ha.rowColor?ha.rowColor:la===0&&ja%2===0,na=ia.children,oa=this.props.selectedEntryIDs||{},pa={level:la+1,rowColor:ma,markAllAsSelected:ia.uniqueID in oa||ha.markAllAsSelected};if(na&&ia.listOpened)ka=na.map(this._renderRow.bind(this,pa),this);var qa=ia.uniqueID in oa||ia.id in oa||ha.markAllAsSelected,ra=o.createElement(ga,{allowEdit:this.props.allowEdit,data:ia,level:ha.level,toggleExpand:this._toggleExpand,index:ja,onHighlight:this._onHighlight,onUnhighlight:this._onUnhighlight,rowColor:ma,highlighted:this.state.highlightedRow===ia,noBorder:la===0&&!ia.listOpened,rowDisabled:qa,addEntry:this._addEntry,removeEntry:this._removeEntry,openToPath:this.props.openToPath,refreshBrowseData:this._retrieveData,dataSource:this.props.dataSource,showWhiteBox:this._shouldShowWhiteBox(ia),showPlusIcon:this.props.showPlusIcon,rowHeight:this.props.rowHeight,uniqueID:this.props.uniqueID}),sa=o.createElement('ul',{className:"_6p6"},ka);return [ra,sa];},resetList:function(){if(this.state.data&&this.state.data.length)this.state.data.forEach(this._closeChildren);},_closeChildren:function(ha){if(!ha)return;ha.listOpened=false;if(ha.children)ha.children.forEach(function(ia){this._closeChildren(ia);},this);},_toggleExpand:function(ha){if(!ha)return;if(ha.children)if(ha.listOpened){ha.listOpened=false;this.props.openToPath&&this.props.openToPath();}else{var ia=ha.path?ha.path.slice():[];ia.push(ha.name);this.props.openToPath&&this.props.openToPath(ia);}},_addEntry:function(ha){if(!ha)return;var ia=this.props.dataSource.dataToEntry(ha);q.log(this.props.uniqueID+'_select_from_browse',{fbid:ia.getUniqueID(),name:ia.getTitle(),cf_section:this.props.cfSection});this.props.onAddEntryAttempt&&this.props.onAddEntryAttempt(ia);},_removeEntry:function(ha){if(!ha)return;var ia=this.props.dataSource.dataToEntry(ha);this.props.onRemoveEntryAttempt&&this.props.onRemoveEntryAttempt(ia);},_onHighlight:function(ha){this.setState({highlightedRow:ha});},_onUnhighlight:function(){this.setState({highlightedRow:null});},_shouldShowWhiteBox:function(ha){return !!(this.props.showWhiteBox&&ha&&(ha.description||ha.source||ha.reach));}}),ga=o.createClass({displayName:'ExpandableRowView',propTypes:{allowEdit:x.bool,data:x.object.isRequired,rowColor:x.bool,noBorder:x.bool,onUnhighlight:x.func,addEntry:x.func,refreshBrowseData:x.func,removeEntry:x.func,openToPath:x.func,dataSource:x.object,showWhiteBox:x.bool,showPlusIcon:x.bool,rowHeight:x.number,uniqueID:x.string},getDefaultProps:function(){return {showPlusIcon:true};},componentDidMount:function(){if(this.props.dataSource.treedata&&this.props.dataSource.treedata.length==1&&this.props.toggleExpand)this.props.toggleExpand(this.props.data);},getInitialState:function(){return {plusIconHovered:this.props.highlighted&&!this._hasChildren()};},render:function(){var ha=this._hasChildren(),ia="_6p8"+(' '+"clearfix")+(this.props.highlighted?' '+"_6p9":'')+(this.props.rowDisabled?' '+"_6pa":'')+(ha?' '+"_6pb":'')+(v?' '+"_18kj":''),ja={height:this.props.rowHeight,lineHeight:this.props.rowHeight-1+'px'},ka={height:this.props.rowHeight-1},la="_6pc"+(ha&&!v?' '+"_6pd":'')+(v?' '+"_4b91":''),ma={width:y+this.props.level*z,height:this.props.rowHeight},na;if(ha)na="_6pe"+(this.props.data.listOpened?' '+"_6pf":'')+(!this.props.data.listOpened?' '+"_6pg":'')+(' '+"_6pq");var oa;if(this.props.data.numLeafCategories)oa=o.createElement('span',{className:"_6pr"},this.props.data.numLeafCategories);var pa;if(this.props.allowEdit&&this.props.highlighted)pa=o.createElement('div',{className:"_5m4n"},o.createElement(j,{data:this.props.data,dataSource:this.props.dataSource,refreshBrowseData:this.props.refreshBrowseData}));var qa=this.props.data;return (o.createElement('li',{className:ia},o.createElement('div',{className:la,onMouseDown:this._onArrowMouseDown,onMouseEnter:v?this._onListMouseEnter:this._onListMouseLeave,onMouseLeave:v?this._onListMouseLeave:null,style:ma,'data-testid':this.props.uniqueID+'_browse_arrow'},o.createElement('div',{className:na})),o.createElement('div',{style:ja,className:"_6ps",'data-testid':this.props.uniqueID+'_browse_row'},o.createElement('div',{className:"_6pt",onMouseDown:this._onListMouseDown,onMouseEnter:this._onListMouseEnter,style:ka},o.createElement('div',{className:"_6p_"},this.props.data.name),oa,pa,this.prop),qa.unselectable||!this.props.showPlusIcon?o.createElement('span',null):this._getIcon()),o.createElement('div',{className:this.props.showWhiteBox?"_5oe8":''})));},_getIcon:function(){if(v)return (o.createElement(r,{checked:this.props.rowDisabled,hovered:this.state.plusIconHovered||this.props.highlighted&&!this._hasChildren(),onMouseEnter:this._onPlusIconMouseEnter,onMouseLeave:this._onPlusIconMouseLeave,onMouseDown:this._onPlusIconMouseDown}));return (o.createElement(k,{hidden:this.props.rowDisabled,hovered:this.state.plusIconHovered||this.props.highlighted&&!this._hasChildren(),onMouseEnter:this._onPlusIconMouseEnter,onMouseLeave:this._onPlusIconMouseLeave,onMouseDown:this._onPlusIconMouseDown}));},_hasChildren:function(){var ha=this.props.data.children||[];return ha.length>0;},_onArrowMouseDown:function(){this._onMouseDown();if(v&&!this._hasChildren())this._onListMouseDown();this.props.toggleExpand&&this.props.toggleExpand(this.props.data);},_onListMouseDown:function(){this._onMouseDown();if(this.props.data.unselectable||this._hasChildren()){this.props.toggleExpand&&this.props.toggleExpand(this.props.data);}else if(this.props.rowDisabled){this.props.removeEntry&&this.props.removeEntry(this.props.data);}else this.props.addEntry&&this.props.addEntry(this.props.data);},_onListMouseEnter:function(){this.props.onHighlight&&this.props.onHighlight(this.props.data);},_onListMouseLeave:function(){this.props.onUnhighlight&&this.props.onUnhighlight();},_onPlusIconMouseDown:function(){this._onMouseDown();if(this.props.rowDisabled){this.props.removeEntry&&this.props.removeEntry(this.props.data);}else this.props.addEntry&&this.props.addEntry(this.props.data);},_onPlusIconMouseEnter:function(){this._hasChildren()&&this.setState({plusIconHovered:true});},_onPlusIconMouseLeave:function(){this._hasChildren()&&this.setState({plusIconHovered:false});},_onMouseDown:function(){h.setAreaClicked(this.props.uniqueID,true);}});f.exports=fa;},null);
__d('AdsSBTokenizerModeButtons.react',['React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'AdsSBTokenizerModeButtons',propTypes:{onSuggestionsButtonMouseDown:k.func,onBrowseButtonMouseDown:k.func,suggestionButtonEnabled:k.bool,uniqueID:k.string.isRequired},render:function(){var m="_4-97"+(' '+"_xke")+(!this.props.suggestionButtonEnabled?' '+"_xkf":''),n=[];if(this.props.onSuggestionsButtonMouseDown)n.push(h.createElement('div',{onMouseDown:this._onSuggestionButtonMouseDown,key:'suggestions',className:m,'data-testid':this.props.uniqueID+'_suggestions_button'},j._("Sugest\u00f5es"),h.createElement('div',{className:"_ekn _xkm"})));if(this.props.onBrowseButtonMouseDown)n.push(h.createElement('div',{onMouseDown:this.props.onBrowseButtonMouseDown,key:'browse',className:"_4-97 _xkk",'data-testid':this.props.uniqueID+'_browse_button'},j._("Procurar"),h.createElement('div',{className:"_ekn _xkl"})));return (h.createElement('div',{className:"_xkd"},n));},_onSuggestionButtonMouseDown:function(){if(!this.props.suggestionButtonEnabled)return;this.props.onSuggestionsButtonMouseDown();}});f.exports=l;},null);
__d('AdsSBTokenizerSuggestions.react',['AdsSBAreaClicked','AdsSBTokenizerConstants','AdsSBTokenizerPlusIcon.react','AdsSBTokenizerWhiteBox.react','Animation','ContextualLayer.react','ScrollableArea.react','React','ReactDOM','ReactLayeredComponentMixin','Style','AdInterfacesUiLogger','AdsSBTokenizerCheckBox.react','AdsFlexibleTargetingQETestConstant','TypeaheadMetricReporter','cx','emptyFunction','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){if(c.__markCompiled)c.__markCompiled();var z=u.NEW_SELECTION_STYLE,aa=o.PropTypes,ba=100,ca=30,da=i.TYPEAHEAD.HEIGHT,ea=i.WHITE_BOX.WIDTH,fa=o.createClass({displayName:'AdsSBTokenizerSuggestions',mixins:[q],propTypes:{hidden:aa.bool,entries:aa.array,onAddEntryAttempt:aa.func,selectedEntryIDs:aa.object,width:aa.number.isRequired,openToPath:aa.func,suggestionsDataSource:aa.object,uniqueID:aa.string.isRequired,reportedInterests:aa.object,addReportedInterests:aa.func,deleteReportedInterests:aa.func,cfSection:aa.string,showWhiteBox:aa.bool,metricReporter:aa.instanceOf(v)},getDefaultProps:function(){return {showWhiteBox:true};},getInitialState:function(){return {suggestions:[],highlightedEntry:null,sourceEntries:[],loading:false};},componentDidMount:function(){this.refreshSuggestions(false,[]);},refreshSuggestions:function(ha,ia){ia=ia||[];var ja=ia.map(function(ka){return ka.getTitle();});if(this.props.suggestionsDataSource){this.props.suggestionsDataSource.getSuggestions(ja,this.onDataFetched.bind(this,ha));this.props.metricReporter&&this.props.metricReporter.reportQueryBegin(ia.length.toString());this.setState({sourceEntries:ia,loading:true});this.setState({loading:true});}},onDataFetched:function(ha,ia){if(!this.isMounted())return;var ja=ia||[];if(ha){ja=this.state.suggestions.slice(0);var ka={};ja.forEach(function(la){ka[la.getUniqueID()]=true;});ia.forEach(function(la){if(!(la.getUniqueID() in ka)){ja.push(la);ka[la.getUniqueID()]=true;}});}if(ja.length>ca)ja=ja.slice(0,ca);this.props.metricReporter&&this.props.metricReporter.reportResults(ja.map(function(la){return la.getUniqueID();}),this.state.sourceEntries.length.toString());this.setState({suggestions:ja,loading:false});},render:function(){return o.createElement('div',{ref:'root'});},renderLayers:function(){var ha=this.state.suggestions.map(this._getSuggestionRow),ia="_50me"+(this.props.hidden?' '+"hidden_elem":''),ja=this.props.showWhiteBox&&this.state.highlightedEntry?this.props.width+ea:this.props.width,ka;if(this.props.showWhiteBox&&this.state.highlightedEntry)ka=o.createElement('div',{className:"_50mf"},o.createElement(k,{info:this.state.highlightedEntry,openToPath:this.props.openToPath?this.props.openToPath:x,type:i.ACTIVE_STATES.SUGGESTIONS,uniqueID:this.props.uniqueID,reportedInterests:this.props.reportedInterests,addReportedInterest:this.props.addReportedInterest,deleteReportedInterest:this.props.deleteReportedInterest}));if(ha.length===0&&!this.state.loading)ha=o.createElement('li',{className:"_50m9"},y._("Nenhuma sugest\u00e3o dispon\u00edvel. Insira mais interesses para receber sugest\u00f5es."));var la=o.createElement('div',{onMouseLeave:this._onMouseLeave,onMouseDown:this._onMouseDown,className:ia,style:{width:ja}},o.createElement('div',{className:"_50ma",style:{width:this.props.width},'data-testid':this.props.uniqueID+'_suggestions_list'},o.createElement(n,{width:this.props.width,height:da},o.createElement('ul',{style:{minHeight:da},className:"_50mb"},ha)),ka));return {content:o.createElement(m,{alignment:'left',contextRef:(function(){return this.refs.root;}).bind(this),position:'below',shown:!this.props.hidden},la)};},_getSuggestionRow:function(ha){var ia=this.props.selectedEntryIDs||{};return (o.createElement(ga,{key:ha.getUniqueID(),entry:ha,onMouseEnter:this._onMouseEnterRow,onMouseLeave:this._onMouseLeave,highlighted:this.state.highlightedEntry===ha,onSelect:this._onEntrySelect,hidden:ha.getUniqueID() in ia}));},_onMouseEnterRow:function(ha){this.setState({highlightedEntry:ha});},_onEntrySelect:function(ha){if(this.props.metricReporter){this.props.metricReporter.reportSelect(ha.getUniqueID(),'interest',ha.getOrder(),true);this.props.metricReporter.sessionEnd();this.props.metricReporter.sessionStart();}s.log(this.props.uniqueID+'_select_from_suggestions',{fbid:ha.getUniqueID(),name:ha.getTitle(),type:'interest',position:ha.getOrder(),cf_section:this.props.cfSection});this.props.onAddEntryAttempt&&this.props.onAddEntryAttempt(ha);},_onMouseLeave:function(){this.setState({highlightedEntry:null});},_onMouseDown:function(){h.setAreaClicked(this.props.uniqueID,true);}}),ga=o.createClass({displayName:'AdsSBTokenizerSuggestionsRow',propTypes:{entry:aa.object,onMouseEnter:aa.func,highlighted:aa.bool,onSelect:aa.func,hidden:aa.bool,onMouseLeave:aa.func},componentDidUpdate:function(){r.set(p.findDOMNode(this),'opacity','');r.set(p.findDOMNode(this),'height','');},render:function(){var ha=this.props.entry,ia="_50mc"+(this.props.highlighted?' '+"_50md":'')+(this.props.hidden?' '+"hidden_elem":'')+(' '+"clearfix");return (o.createElement('li',{onMouseEnter:this._onMouseEnter,onClick:this._onClick,className:ia,'data-testid':this.props.uniqueID+'_suggestions_row'},o.createElement('div',{className:"_50m8"},ha.getTitle()),z?o.createElement(t,{hovered:this.props.highlighted}):o.createElement(j,{hovered:this.props.highlighted}),o.createElement('div',{className:"_5oe8"})));},_onMouseEnter:function(){this.props.onMouseEnter&&this.props.onMouseEnter(this.props.entry);},_onClick:function(){new l(p.findDOMNode(this)).to('opacity',0).to('height',0).blind().duration(ba).ondone((function(ha){this.props.onSelect&&this.props.onSelect(this.props.entry,ha);}).bind(this)).go();}});f.exports=fa;},null);
__d('AdsSBTokenizerValidationDialog.react',['AdsSBAreaClicked','LayerAutoFocus','LayerFadeOnHide','LayerHideOnEscape','React','ReactDOM','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogButton.react','cx','fbt','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=l.PropTypes,w=l.createClass({displayName:'AdsSBTokenizerValidationDialog',propTypes:{setEntries:v.func,uniqueID:v.string.isRequired},mixins:[n],getInitialState:function(){return {dialogShown:false,invalidEntries:[],newEntries:[],currentEntries:[]};},componentWillMount:function(){this._onToggleThrottled=u((function(x){if(this.isMounted())this.setState({dialogShown:x});}).bind(this),500);},show:function(event){this._onToggle(true);},_onToggle:function(x){this._onToggleThrottled&&this._onToggleThrottled(x);},renderLayers:function(){var x=this.state.newEntries,y=this.state.invalidEntries,z=x.map(function(da){return da.getTitle();}).join(', '),aa=y.map(function(da){return da.getTitle();}).join(', '),ba=this._getAudienceBroadened(x,y),ca=this._getDialogText(z,aa,ba);return {dialog:l.createElement(o,{shown:this.state.dialogShown,behaviors:{LayerAutoFocus:i,LayerFadeOnHide:j,LayerHideOnEscape:k},onToggle:this._onToggle,width:445},l.createElement(p,null,l.createElement('div',null,ca)),l.createElement(q,null,l.createElement(r,{label:t._("Cancelar"),action:'cancel',onMouseDown:this._onActionMouseDown}),l.createElement(r,{label:t._("OK"),use:'confirm',action:'cancel',ref:'confirmButton',className:'autofocus',onMouseDown:this._onActionMouseDown,onClick:this._onConfirm})))};},render:function(){return (l.createElement('div',null));},componentDidUpdate:function(){n.componentDidUpdate.call(this);this.refs&&m.findDOMNode(this.refs.confirmButton).focus();},_onConfirm:function(){this._onActionMouseDown();this.setValidatedEntries({newEntries:this.state.newEntries,currentEntries:this.state.currentEntries,invalidEntries:this.state.invalidEntries});},setValidatedEntries:function(x){var y={},z=[];x.currentEntries.forEach(function(ba){y[ba.getUniqueID()]=ba;});x.newEntries.forEach(function(ba){y[ba.getUniqueID()]=ba;});x.invalidEntries.forEach(function(ba){y[ba.getUniqueID()]=null;});for(var aa in y)if(y[aa])z.push(y[aa]);this.props.setEntries&&this.props.setEntries(z);},_onActionMouseDown:function(){h.setAreaClicked(this.props.uniqueID,true);this._onToggle(false);},_getDialogText:function(x,y,z){var aa;if(z){aa=t._("Deseja alterar seu direcionamento de interesse para {new entry}, que \u00e9 mais geral do que {invalid entry}? Isso ampliar\u00e1 o seu p\u00fablico.",[t.param('new entry',l.createElement('span',{className:"_3bhc"},x)),t.param('invalid entry',l.createElement('span',{className:"_3bhc"},y))]);}else aa=t._("Deseja alterar seu direcionamento de interesse para {new entry}, que \u00e9 mais espec\u00edfico do que {invalid entry}? Isso reduzir\u00e1 o seu p\u00fablico.",[t.param('new entry',l.createElement('span',{className:"_3bhc"},x)),t.param('invalid entry',l.createElement('span',{className:"_3bhc"},y))]);return aa;},_getAudienceBroadened:function(x,y){var z=0;x.forEach(function(ba){z+=ba.reach||0;});var aa=0;y.forEach(function(ba){aa+=ba.reach||0;});return z>aa;},setInfo:function(x){this.setState({newEntries:x.newEntries,invalidEntries:x.invalidEntries,currentEntries:x.currentEntries});}});f.exports=w;},null);
__d('AdsSBTypeahead.react',['AbstractTypeahead.react','React','SearchableEntry','TypeaheadMetricReporter','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes,o=i.createClass({displayName:'AdsSBTypeahead',propTypes:{excludedEntries:n.object.isRequired,searchSource:n.object.isRequired,validationSource:n.object,onSelectAttempt:n.func,onInputChange:n.func,onMultiAddEntries:n.func,placeholder:n.string,shouldClearOnSelect:n.bool,hasSelectedEntries:n.bool,metricReporter:n.instanceOf(k)},getInitialState:function(){return {queryString:''};},getDefaultProps:function(){return {shouldClearOnSelect:true,hasSelectedEntries:false};},render:function(){var p=this.props,q=p.size,r=babelHelpers.objectWithoutProperties(p,['size']),s=m("_1y42"+(q==='large'?' '+"_2liv":'')+(q==='xlarge'?' '+"_2liw":''),this.props.className),t=this.props.placeholder;return (i.createElement(h,babelHelpers._extends({},r,{ref:'typeahead',selectedEntry:this.props.hasSelectedEntries?this.props.selectedEntry:null,placeholder:t,className:s,queryString:this.state.queryString,onSelectAttempt:this._onSelectAttempt,onChange:this._onInputChange,autoHighlight:true,onPaste:this._onPaste,hideViewWithEntries:false,onBlur:this._onBlur,onFocus:this._onFocus,onEntriesFound:this._onEntriesFound})));},_onFocus:function(){this.props.metricReporter&&this.props.metricReporter.sessionStart();},_onBlur:function(){this.props.metricReporter&&this.props.metricReporter.sessionEnd();},_onEntriesFound:function(p){this.props.metricReporter&&this.props.metricReporter.reportResults(p.map(function(q){return q.getUniqueID();}),this.state.queryString);},_onSelectAttempt:function(p){if(p){if(this.props.metricReporter){this.props.metricReporter.reportSelect(p.id||p.getUniqueID(),p.type||p.getType(),p.order||p.getOrder(),true);this.props.metricReporter.sessionEnd();this.props.metricReporter.sessionStart();}this.props.onSelectAttempt&&this.props.onSelectAttempt(p);this.props.shouldClearOnSelect&&this.clearTypeahead();if(!p.numLeafCategories)setTimeout((function(){this.focusTypeahead();this.props.onClick&&this.props.onClick();}).bind(this));}},_onInputChange:function(event){var p=event.target.value;this.props.onInputChange&&this.props.onInputChange(event);this.setState({queryString:p});this.props.metricReporter&&this.props.metricReporter.reportQueryBegin(p);},_onPaste:function(event){if(event&&event.clipboardData&&event.clipboardData.getData){var p=event.clipboardData.getData('text/plain'),q=p.split(',').map(function(s){return s.trim();});if(!p)return;var r=this.props.validationSource;if(r){r.getMetadata(q,this._onValidationCB);this.props.onClick&&this.props.onClick();}}return false;},_onValidationCB:function(p){this.props.onMultiAddEntries&&this.props.onMultiAddEntries(p);},focusTypeahead:function(){this.refs.typeahead.focusInput();},clearTypeahead:function(){this.setState({queryString:''});},hideView:function(){this.refs.typeahead.hideView();}});f.exports=o;},null);
__d('AdsSearchBrowseTokenizerList.react',['AdsCreationExperimentStore','AdInterfacesUiLogger','AdsFlexibleTargetingLoggingEvents','AdsSBAreaClicked','AdsSBTokenizerConstants','AdsSBTokenizerWhiteBoxLayer.react','AdsSearchBrowseUtils','Animation','CSS','React','ReactDOM','Style','XUICloseButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w=q.PropTypes,x=v._("Entradas adicionais"),y=1000,z=-37,aa=q.createClass({displayName:'AdsSearchBrowseTokenizerList',propTypes:{entries:w.array,newEntriesSet:w.object,isFlat:w.bool,uniqueID:w.string,defaultPath:w.string,reportedInterests:w.object,addReportedInterest:w.func,deleteReportedInterest:w.func,skipeQECalls:w.bool},getDefaultProps:function(){return {uniqueID:n.makeID(),defaultPath:x,skipeQECalls:false};},getInitialState:function(){var da=false,ea=false,fa='#fff9d7';if(!this.props.skipQECalls){var ga=h.getExperiment('test_mtc_flexible_targeting_presenter');da=ga.getParam('node_link_color')==='1';ea=ga.getParam('fixed_height')==='1';fa=ga.getParam('select_animation_color');}return {linkBlueQE:da,isScrollWindowQE:ea,animationColorQE:fa};},render:function(){var da=this._dedupEntries(this.props.entries);if(da.length===0)return q.createElement('div',null);var ea=this.props.isFlat?this._getFlatList(da):this._getListGroups(da),fa="_5w21"+(this.state.isScrollWindowQE?' '+"_gwq":''),ga=ea;if(this.state.isScrollWindowQE)ga=q.createElement('div',{className:"_gwr"},ea);return (q.createElement('div',{className:fa},ga));},_dedupEntries:function(da){if(!da)return [];var ea={},fa=[];da.forEach(function(ga){var ha=ga.getUniqueID();if(!(ha in ea)){ea[ha]=true;fa.push(ga);}});return fa;},_getFlatList:function(da){var ea=da.map(function(fa){return (q.createElement(ca,babelHelpers._extends({},this.props,{key:fa.getUniqueID(),entry:fa})));},this);return (q.createElement('ul',{className:"_5w2a"},ea));},_getListGroups:function(da){var ea=this._getGroupedEntries(da),fa=[],ga=Object.keys(ea).sort(function(ha,ia){return ha.localeCompare(ia);});ga.forEach((function(ha){fa.push(q.createElement(ba,babelHelpers._extends({},this.props,{key:ha,title:ha,entryGroup:ea[ha],linkBlueQE:this.state.linkBlueQE,animationColorQE:this.state.animationColorQE,isScrollWindowQE:this.state.isScrollWindowQE})));}).bind(this));return fa;},_getGroupedEntries:function(da){var ea={};da.forEach(function(fa){var ga=fa.path,ha;if(!ga||ga.length===0){if(fa.isInHierarchy){ha=fa.getTitle();}else ha=this.props.defaultPath;}else ha=ga.join(', ');if(ha in ea){ea[ha].push(fa);}else ea[ha]=[fa];},this);return ea;}}),ba=q.createClass({displayName:'AdsSearchBrowseTokenizerListGroup',propTypes:{title:w.string,entryGroup:w.array,onMultiRemoveEntries:w.func,newEntriesSet:w.object,renderDefaultPath:w.bool,animationColorQE:w.string,isScrollWindowQE:w.bool,linkBlueQE:w.bool},getDefaultProps:function(){return {renderDefaultPath:true};},getInitialState:function(){return {active:false};},render:function(){var da=this.props.entryGroup.sort(function(ja,ka){return ja.getTitle().localeCompare(ka.getTitle());}),ea=da.map(this._getListIitem),fa="_5w23"+(this.state.active?' '+"_5w27":''),ga="_5w22";if(this.props.linkBlueQE)ga="_5w22"+(' '+"_1wfl");var ha=this._getTitle();if(ha!==this.props.defaultPath||this.props.renderDefaultPath)var ia=q.createElement('li',{onMouseEnter:this._onHighlightTitle,onMouseLeave:this._onUnhighlightTitle,className:ga},ha,q.createElement(t,{size:'small',className:"_5w28",onClick:this._onRemoveGroup}));return (q.createElement('ul',{className:fa},ia,q.createElement('li',null,q.createElement('ul',null,ea))));},_getTitle:function(){var da=this.props.title,ea=this.props.entryGroup[0].path;if(ea&&ea.length)da=this._getPathBreadcrumbs(ea);return da;},_getListIitem:function(da){var ea=this.props.newEntriesSet||{},fa=this.props.showAnimation&&ea[da.getUniqueID()]!==undefined;return (q.createElement(ca,babelHelpers._extends({},this.props,{key:da.getUniqueID(),entry:da,groupTitle:this.props.title,showAnimation:fa,animationColorQE:this.props.animationColorQE,isScrollWindowQE:this.props.isScrollWindowQE})));},_getPathBreadcrumbs:function(da){if(!da||da.length===0)return;var ea=[],fa="_2nop";if(this.props.linkBlueQE)fa="_2nop"+(' '+"_1wfm");for(var ga=0;ga<da.length;ga++){if(ga!==0)ea.push(q.createElement('span',{key:'breadcrumb_spacer_'+ga,className:fa},' > '));ea.push(q.createElement('span',{key:'breadcrumb_'+ga,className:"_2noq",onMouseDown:this._breadcrumbSelected.bind(this,da.slice(0,ga+1))},da[ga]));}return ea;},_breadcrumbSelected:function(da){i.log(j.CLICK_SELECTED_PATH_ITEM);k.setAreaClicked(this.props.uniqueID,true);this.setState({popoverDisabled:true});this.props.openToPath&&this.props.openToPath(da);},_onHighlightTitle:function(){this.setState({active:true});},_onUnhighlightTitle:function(){this.setState({active:false});},_onRemoveGroup:function(){this.props.onMultiRemoveEntries&&this.props.onMultiRemoveEntries(this.props.entryGroup);}}),ca=q.createClass({displayName:'AdsSearchBrowseTokenizerListItem',propTypes:{entry:w.object.isRequired,onRemoveEntry:w.func,groupTitle:w.string,showAnimation:w.bool,showWhiteBox:w.bool,animationColorQE:w.string,isScrollWindowQE:w.bool},getInitialState:function(){return {highlighted:false};},componentWillUpdate:function(){if(this.props.showAnimation)this._previousEntry=this.props.entry;},componentDidUpdate:function(){this._showAnimation();},componentDidMount:function(){this._showAnimation();},render:function(){var da="_5w24",ea=this.props.entry.getTitle();if(ea===this.props.groupTitle){ea=q.createElement('div',{className:"_5w25"},v._("Tudo {interest}",[v.param('interest',this.props.entry.getTitle())]));}else ea=q.createElement('div',{className:"_5w25"},ea);return (q.createElement(m,{info:this.props.entry,openToPath:this.props.openToPath,type:l.ACTIVE_STATES.BROWSE,shown:this.props.showWhiteBox&&this.state.highlighted,onMouseEnterBox:this._onMouseEnterBox,onMouseLeaveBox:this._onMouseLeaveBox,yOffset:z,uniqueID:this.props.uniqueID,reportedInterests:this.props.reportedInterests,addReportedInterest:this.props.addReportedInterest,deleteReportedInterest:this.props.deleteReportedInterest},q.createElement('li',{className:da,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},ea,q.createElement(t,{size:'small',className:"_5w28",onClick:this._onRemoveEntry}))));},_showAnimation:function(){var da=this.props.showAnimation;if(this._previousEntry)da=da&&this.props.entry.getUniqueID()!==this._previousEntry.getUniqueID();if(da){var ea=r.findDOMNode(this);if(this.props.isScrollWindowQE&&ea.scrollIntoViewIfNeeded)ea.scrollIntoViewIfNeeded();s.set(ea,'background',this.props.animationColorQE||'#fff9d7');p.addClass(ea,"_5w29");new o(ea).to('background','#fff').duration(y).ondone((function(){s.set(ea,'background','');p.removeClass(ea,"_5w29");}).bind(this)).go();}},_onRemoveEntry:function(){this.props.onRemoveEntry&&this.props.onRemoveEntry(this.props.entry);},_onMouseEnter:function(){this.setState({highlighted:true});},_onMouseLeave:function(){this.setState({highlighted:false});},_onMouseEnterBox:function(){this.setState({highlighted:true});},_onMouseLeaveBox:function(){this.setState({highlighted:false});}});f.exports=aa;},null);
__d('AudienceInterestsSearchSource',['AbstractSearchSource','AdsCreateFlowQueryLimits','AdsSearchBrowseUtils','CurrentLocale','GraphAPI','SearchableEntry'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;'use strict';var p;n=babelHelpers.inherits(q,h);o=n&&n.prototype;function q(r){o.constructor.call(this);if(p){return p;}else{this.options=r||{};return this;}}q.prototype.processResult=function(r,s,t){var u=[],v=r.data||r,w=s.toLowerCase();for(var x=v,y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var aa;if(y){if(z>=x.length)break;aa=x[z++];}else{z=x.next();if(z.done)break;aa=z.value;}var ba=aa,ca=ba.id,da=ba.name,ea=new m({uniqueID:ca,title:da});ea.disambiguationCategory=ba.disambiguation_category;ea.name=ba.name;ea.reach=ba.audience_size;ea.matchArray=j.getMatchedIndexArray(w,da.toLowerCase());ea.path=ba.path;if(ba.path&&ba.path.length){ea.path=ba.path.slice();ea.path.pop();ea.isInHierarchy=true;}ea.description=ba.description;ea.topic=ba.topic;u.push(ea);if(u.length>i.TYPEAHEAD_LIMIT)break;}t(u,s);};q.prototype.searchImpl=function(r,s,t){if(!r){s([],r);return;}var u=l('2.4').search('audienceinterest').get({q:r,locale:k.get(),whitelisted_only:this.options.whitelistedInterestsOnly});u.done((function(v){return this.processResult(v.data,r,s);}).bind(this),function(v){return false;});};q.getInstance=function(r){if(!p)p=new q(r);return p;};f.exports=q;},null);
__d('AdsSearchBrowseInterests.react',['AdInterfacesUiLogger','AdsGraphAPI','AdsInterestsBrowseDataSource','AdsInterestsSearchSource','AdsInterestsSuggestionsDataSource','AdsInterestsValidationDataSource','AdsPreferencesConstants','AdsSBAreaClicked','AdsSBTokenizerConstants','AdsSBTokenizerExpandableListOld.react','AdsSBTokenizerModeButtons.react','AdsSBTokenizerSuggestions.react','AdsSBTokenizerValidationDialog.react','AdsSBTypeahead.react','AdsSearchBrowseTokenizerList.react','AsyncRequest','AudienceInterestsSearchSource','AudienceInterestsSuggestionsDataSource','AudienceInterestsValidationDataSource','CurrentLocale','React','ReactDOM','SearchableEntry','TypeaheadMetricReporter','AdsSB2TypeaheadEntriesView.react','XAdPreferencesReportController','AdsFlexibleTargetingQETestConstant','cx','fbt','getElementPosition','getUnboundedScrollPosition','joinClasses','StrSet'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na){'use strict';if(c.__markCompiled)c.__markCompiled();var oa=ha.NEW_SELECTION_STYLE,pa=ba.PropTypes,qa='interests',ra={ViewRenderer:fa,useLayer:true};function sa(xa,ya){return ya.getUniqueID()===xa;}var ta=p.ACTIVE_STATES,ua=430,va=p.TOKENIZER_TYPES.INTERESTS,wa=ba.createClass({displayName:'AdsSearchBrowseInterests',propTypes:{accountID:pa.string,className:pa.string,cfSection:pa.string,dao:pa.object,deltaObjectID:pa.string,entries:pa.array,hideArrow:pa.bool,hideBrowseButton:pa.bool,hideSuggestions:pa.bool,hideTokenizerList:pa.bool,hideValidationDialog:pa.bool,interests:pa.array,listWidth:pa.number,onChange:pa.func,destinationID:pa.string,objective:pa.any,onUpdateInterests:pa.func,onUpdateInterestsAdsPrefs:pa.func,placeholder:pa.string,retrievePrefillSuggestions:pa.bool,showAnimation:pa.bool,showReach:pa.bool,showSuggestionWhiteBox:pa.bool,showWhiteBox:pa.bool,whitelistedInterestsOnly:pa.bool,useAudienceInterests:pa.bool},getDefaultProps:function(){return {interests:[],showAnimation:true,showReach:true,showSuggestionWhiteBox:true,showWhiteBox:true,retrievePrefillSuggestions:true,useAudienceInterests:false};},getInitialState:function(){return {entries:[],activeState:this._getDefaultActiveState(),newEntriesSet:{},reportedInterests:{}};},componentDidMount:function(){o.init();o.subscribe(va,this._onClickOutsideComponent);this._updateFromInterests({},this.props);this._fetchReportedInterests();if(this._showPrefillSuggestions(this.props.interests))this._prefillSuggestedInterests();},componentDidUpdate:function(){if(!this._shouldShowSuggestions()&&this.state.activeState===ta.SUGGESTIONS)this._setActiveState(ta.BROWSE);if(this.state.activeState!==ta.BROWSE)this.refs.expandableList.resetList();},componentWillReceiveProps:function(xa){if(xa.entries){this.setState({entries:xa.entries});}else if(xa.interests)this._updateFromInterests(this.props,xa);},componentWillMount:function(){var xa={event_name:'ads_targeting',event_specific_data:{context:va+'_typeahead',ad_account_id:this.props.accountID}};this._searchMetricReporter=new ea(xa);var ya={event_name:'ads_targeting',event_specific_data:{context:va+'_suggestion',ad_account_id:this.props.accountID}};this._suggestionMetricReporter=new ea(ya);},componentWillUnmount:function(){delete this._searchMetricReporter;delete this._suggestionMetricReporter;},_updateFromInterests:function(xa,ya){if(!ya.interests)return;var za=ya.interests,ab=xa.interests||[],bb=this._getInterestFBIDs(za),cb=this._getInterestFBIDs(ab),db=bb.sort().slice().join(',');if(cb.sort().slice().join(',')===db)return;this.setEntriesFromInterestsWithFBIDs(za);},_fetchReportedInterests:function(){var xa=ga.getURIBuilder().setString('action','get').getURI();new w(xa).setHandler((function(ya){if(!this.isMounted())return;var za=ya.payload.interests||{};this.setState({reportedInterests:za});}).bind(this)).send();},_showPrefillSuggestions:function(xa){if(!this.props.retrievePrefillSuggestions||xa&&xa.length>0)return false;return true;},_prefillSuggestedInterests:function(){var xa=i.getWithGeneralMigration().search('adrelatedinterests').get({object_id:this.props.destinationID,locale:aa.get(),objective:this.props.objective,is_prefill:true});xa.done((function(ya){var za=ya.data.map(function(ab){var bb=new da({uniqueID:ab.id,title:ab.name});bb.name=ab.name;bb.path=ab.path;if(ab.path&&ab.path.length){bb.path=ab.path.slice();bb.path.pop();bb.isInHierarchy=true;}bb.reach=ab.audience_size;bb.description=ab.description;bb.loggingSuffix='related_prefill';return bb;});this._onMultiAddEntries(za);}).bind(this),function(ya){return false;});},_addReportedInterest:function(xa,ya){var za=ga.getURIBuilder().setString('name',ya).setString('action','add').setInt('fbid',xa).getURI();new w(za).send();var ab=this.state.reportedInterests;ab[xa]=xa;this.setState({reportedInterests:ab});},_deleteReportedInterest:function(xa){var ya=ga.getURIBuilder().setString('action','del').setInt('fbid',xa).getURI();new w(ya).send();var za=this.state.reportedInterests;delete za[xa];this.setState({reportedInterests:za});},_getSelectedEntryIDs:function(){var xa=this.state.entries||[],ya={};xa.forEach(function(za){ya[za.getUniqueID()]=true;});return ya;},render:function(){var xa=this.props.useAudienceInterests?x.getInstance({whitelistedInterestsOnly:this.props.whitelistedInterestsOnly}):k.getInstance(this.props.dao,{whitelistedInterestsOnly:this.props.whitelistedInterestsOnly}),ya=j.getInstance(this.props.dao,{fetchInterestGroups:this.props.whitelistedInterestsOnly}),za=this.props.useAudienceInterests?new z():m.getInstance(this.props.dao),ab=this.props.useAudienceInterests?new y():l.getInstance(this.props.dao),bb=this.state.activeState!==ta.NONE;if(this.isMounted()&&!this._width)this._width=ca.findDOMNode(this).offsetWidth;var cb=this._width||ua;ra.extraRendererProps={openToPath:this._openToPath,width:cb,uniqueID:va,showWhiteBox:this.props.showWhiteBox,reportedInterests:this.state.reportedInterests,addReportedInterest:this._addReportedInterest,deleteReportedInterest:this._deleteReportedInterest,showCheckIcon:oa};var db="_19yt"+(bb?' '+"_5u07":'')+(' '+"uiContextualLayerParent")+(this.state.activeState===ta.BROWSE?' '+"_eko":'')+(this.state.activeState===ta.SUGGESTIONS?' '+"_ekm":'')+(this.state.activeState===ta.SEARCH?' '+"_ekp":'');db=ma(db,this.props.className);var eb=this.props.hideBrowseButton?null:ba.createElement(r,{onSuggestionsButtonMouseDown:this._shouldHideSuggestions()?null:this._onSuggestionsButtonMouseDown,onBrowseButtonMouseDown:this._onBrowseButtonMouseDown,suggestionButtonEnabled:this._shouldShowSuggestions(),uniqueID:va});return (ba.createElement('div',null,ba.createElement(t,{ref:'validationDialog',setEntries:this._onEntriesChange,uniqueID:va}),ba.createElement('div',{onMouseOver:function(){return o.setAreaClicked(va,true);},onMouseLeave:function(){return o.setAreaClicked(va,false);},className:db},this.props.hideTokenizerList?ba.createElement('div',null):ba.createElement(v,{entries:this.state.entries,onRemoveEntry:this._onRemoveEntryAttempt,openToPath:this._openToPath,onMultiRemoveEntries:this._onMultiRemoveEntries,newEntriesSet:this.state.newEntriesSet,reportedInterests:this.state.reportedInterests,addReportedInterest:this._addReportedInterest,deleteReportedInterest:this._deleteReportedInterest,showAnimation:this.props.showAnimation,showWhiteBox:this.props.showWhiteBox,uniqueID:va,cfSection:this.props.cfSection,showReach:this.props.showReach}),ba.createElement('div',{onMouseDown:this._onClickInsideComponent},ba.createElement('div',{className:"_5g-g"},ba.createElement(u,{excludedEntries:this._getSelectedEntryIDs(),onSelectAttempt:this._onSearchAddEntryAttempt,searchSource:xa,validationSource:za,presenter:ra,onInputChange:this._onInputChange,onTypeaheadVisibilityChanged:this._onTypeaheadVisibilityChanged,onMultiAddEntries:this._onMultiAddEntries,onClick:this._showListComponent,ref:'typeahead',placeholder:this.props.placeholder?this.props.placeholder:ja._("Procurar interesses"),size:this.props.size,metricReporter:this._searchMetricReporter}),!this.props.hideArrow?ba.createElement('div',{className:"_ekn _ekl"}):null,eb),ba.createElement(q,{dataSource:ya,onAddEntryAttempt:this._onAddEntryAttempt,onRemoveEntryAttempt:this._onRemoveEntryAttempt,openToPath:this._openToPath,hidden:this.state.activeState!==ta.BROWSE,hideWhiteBoxOnBlur:false,openPath:this.state.openPath,selectedEntryIDs:this._getSelectedEntryIDs(),reportedInterests:this.state.reportedInterests,addReportedInterest:this._addReportedInterest,deleteReportedInterest:this._deleteReportedInterest,width:cb,uniqueID:va,showWhiteBox:this.props.showWhiteBox,ref:'expandableList',cfSection:this.props.cfSection,showReach:this.props.showReach,deltaObjectID:this.props.deltaObjectID,targetingSpecField:qa}),ba.createElement(s,{dao:this.props.dao,entries:this.state.entries,onAddEntryAttempt:this._onAddEntryAttempt,openToPath:this._openToPath,hidden:this.state.activeState!==ta.SUGGESTIONS,selectedEntryIDs:this._getSelectedEntryIDs(),ref:'suggestionsComponent',width:cb,uniqueID:va,reportedInterests:this.state.reportedInterests,addReportedInterest:this._addReportedInterest,deleteReportedInterest:this._deleteReportedInterest,suggestionsDataSource:ab,cfSection:this.props.cfSection,showWhiteBox:this.props.showSuggestionWhiteBox,metricReporter:this._suggestionMetricReporter})))));},setEntriesFromInterests:function(xa){if(!xa||!xa.length)this._onEntriesChangeNoAPIUpdate([]);var ya=m.getInstance(this.props.dao);ya.getMetadata(xa,this._setEntriesFromInterestsCB,true);},_getInterestFBIDs:function(xa){return (xa||[]).filter(function(ya){return ya.type!==n.CATEGORY_FILTERS.DEMOGRAPHICS;}).map(function(ya){return ya.id;});},setEntriesFromInterestsWithFBIDsCallUpdate:function(xa){if(!xa||!xa.length)this._onEntriesChange([]);var ya=this._getInterestFBIDs(xa),za=m.getInstance(this.props.dao);za.getMetadataFromFBID(ya,this._setEntriesFromInterestsCBCallUpdate);},setEntriesFromInterestsWithFBIDs:function(xa){if(!xa||!xa.length)this._onEntriesChangeNoAPIUpdate([]);var ya=this._getInterestFBIDs(xa),za=m.getInstance(this.props.dao);za.getMetadataFromFBID(ya,this._setEntriesFromInterestsCB);},_setEntriesFromInterestsCB:function(xa){if(!this.isMounted())return;var ya=new na(this._getInterestFBIDs(this.props.interests)),za=new na(xa.map(function(ab){return ab.getUniqueID();}));if(!za.equals(ya))return;this._onEntriesChangeNoAPIUpdate(xa);this.refs.suggestionsComponent.refreshSuggestions(false,xa);},_setEntriesFromInterestsCBCallUpdate:function(xa){if(!this.isMounted())return;this._onEntriesChange(xa);this.refs.suggestionsComponent.refreshSuggestions(false,xa);},_setInterestsFromEntries:function(xa){var ya=xa.map(function(za){return {id:za.getUniqueID(),name:za.getTitle()};});this._setInterests(ya);this.props.onUpdateInterests&&this.props.onUpdateInterests(ya);if(this.props.onUpdateInterestsAdsPrefs)this.props.onUpdateInterestsAdsPrefs(xa.map(function(za){return {id:za.getUniqueID(),name:za.getTitle(),topic:za.topic};}));this.props.onChange&&this.props.onChange(xa);},_onSearchAddEntryAttempt:function(xa){h.log(va+'_select_from_typeahead',{fbid:xa.getUniqueID(),name:xa.getTitle(),type:'interests',position:xa.order||xa.getOrder(),cf_section:this.props.cfSection});this._onAddEntryAttempt(xa);if(!xa.numLeafCategories)this._setActiveState(this._getDefaultActiveState());},_onAddEntryAttempt:function(xa){this._validateAndAddEntries([xa]);},_onRemoveEntryAttempt:function(xa){var ya=xa.getUniqueID(),za=this.state.entries.slice();za.some((function(ab,bb){if(sa(ya,ab)){za.splice(bb,1);this._onEntriesChange(za);return true;}return false;}).bind(this));},_onMultiAddEntries:function(xa){this._validateAndAddEntries(xa);},_onMultiRemoveEntries:function(xa){var ya=this.state.entries.slice(0);xa.forEach(function(za){if(ya.some(sa.bind(null,za.getUniqueID())))ya.splice(ya.indexOf(za),1);});this._onEntriesChange(ya);},_validateAndAddEntries:function(xa){var ya=this._getSelectedEntryIDs();xa=xa.filter(function(ab){return !(ab.getUniqueID() in ya);});var za=this._validateEntries(xa);if(za.length){if(this.props.hideValidationDialog){this.refs.validationDialog.setValidatedEntries({newEntries:xa,currentEntries:this.state.entries,invalidEntries:za});}else{this.refs.validationDialog.setInfo({newEntries:xa,currentEntries:this.state.entries,invalidEntries:za});this.refs.validationDialog.show();}}else this._onEntriesChange(this.state.entries.concat(xa));},_validateEntries:function(xa){var ya=this.state.entries.slice(),za=ya.concat(xa),ab={},bb={};za.forEach(function(eb){if(!eb.isInHierarchy)return;ab[eb.getTitle()]=eb;});za.forEach(function(eb){if(!eb.isInHierarchy)return;var fb=eb.path||[];for(var gb=0;gb<fb.length;gb++){var hb=ab[fb[gb]];if(fb[gb] in ab&&hb!==eb){bb[eb.getUniqueID()]=eb;bb[hb.getUniqueID()]=hb;}}});xa.forEach(function(eb){bb[eb.getUniqueID()]=null;});var cb=[];for(var db in bb)if(bb[db])cb.push(bb[db]);return cb;},_openToPath:function(xa){this._logActiveStateChange(this.state.activeState,ta.BROWSE);this.setState({openPath:xa,activeState:ta.BROWSE});},_onEntriesChange:function(xa){var ya={};this._setInterestsFromEntries(xa);this.refs.suggestionsComponent.refreshSuggestions(this.state.activeState===ta.SUGGESTIONS,xa);ya.entries=xa;ya.newEntriesSet=this._getNewEntries(this.state.entries,xa);this._logActiveStateChange(this.state.activeState,ya.activeState);this.setState(ya);},_onEntriesChangeNoAPIUpdate:function(xa){var ya={};this.refs.suggestionsComponent.refreshSuggestions(this.state.activeState===ta.SUGGESTIONS,xa);ya.entries=xa;ya.newEntriesSet=this._getNewEntries(this.state.entries,xa);this._logActiveStateChange(this.state.activeState,ya.activeState);this.setState(ya);},_getNewEntries:function(xa,ya){var za={};ya.forEach(function(ab){za[ab.getUniqueID()]=ab;});xa.forEach(function(ab){za[ab.getUniqueID()]=undefined;});return za;},_onClickOutsideComponent:function(){this.refs.typeahead.clearTypeahead();this._setActiveState(this._getDefaultActiveState());},_onBrowseButtonMouseDown:function(){var xa=this.state.activeState===ta.BROWSE?this._getDefaultActiveState():ta.BROWSE;this.refs.typeahead.clearTypeahead();this._setActiveState(xa);},_onSuggestionsButtonMouseDown:function(){var xa=this.state.activeState===ta.SUGGESTIONS?this._getDefaultActiveState():ta.SUGGESTIONS;this.refs.typeahead.clearTypeahead();this._setActiveState(xa);},_onTypeaheadVisibilityChanged:function(xa){if(xa){this._setActiveState(ta.SEARCH);}else this._setActiveState(ta.NONE);},_onClickInsideComponent:function(){o.setAreaClicked(va,true);setTimeout((function(){this.refs.typeahead.focusTypeahead();}).bind(this),100);},_showListComponent:function(){if(this._shouldShowSuggestions()){this._setActiveState(ta.SUGGESTIONS);}else this._setActiveState(ta.BROWSE);},_shouldShowSuggestions:function(){return !this._shouldHideSuggestions()&&this.state.entries.length>0;},_shouldHideSuggestions:function(){return this.props.hideSuggestions;},_centerComponentOnPage:function(){var xa=ca.findDOMNode(this.refs.typeahead),ya=ka(xa),za=la(window),ab=document.documentElement.clientHeight,bb=ya.y-ab/2+za.y;window.scrollTo(0,bb);},_setInterests:function(xa){this._interests=xa;},_setActiveState:function(xa){if(this._suggestionMetricReporter){if(this.state.activeState!==ta.SUGGESTIONS&&xa===ta.SUGGESTIONS)this._suggestionMetricReporter.sessionStart();if(this.state.activeState===ta.SUGGESTIONS&&xa!==ta.SUGGESTIONS)this._suggestionMetricReporter.sessionEnd();}this._logActiveStateChange(this.state.activeState,xa);this.setState({activeState:xa});},_logActiveStateChange:function(xa,ya){if(ya===null||ya===undefined||xa===ya)return;h.log(va+'_active_state_change',{active_state:ya,cf_section:this.props.cfSection});},_getDefaultActiveState:function(){return ta.NONE;},getInterests:function(){return this._interests;}});f.exports=wa;},null);
__d('AdsPreferencesAddedInterestNoticeGroup.react',['AdPreferencesDesktopStrings','React','ReactCSSTransitionGroup','XUINotice.react','XUINoticeGroup.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=i.PropTypes,p=i.createClass({displayName:'AdsPreferencesAddedInterestNoticeGroup',propTypes:{maxNoticeCount:o.number,noticeTimeout:o.number},getDefaultProps:function(){return {maxNoticeCount:3,noticeTimeout:6000};},getInitialState:function(){return {interests:[]};},_removeInterestFromNotice:function(q){var r=this.state.interests.filter(function(s){return q.id!=s.id;});this.setState({interests:r});},render:function(){var q=[];this.state.interests.forEach((function(r){var s=r.topic?n._("You added {interest_names} to your {category name} interests.",[n.param('interest_names',i.createElement('b',null,r.name)),n.param('category name',i.createElement('b',null,h[r.topic]))]):n._("You added {interest_names} to your interests.",[n.param('interest_names',i.createElement('b',null,r.name))]);q.push(i.createElement(k,{className:"_3-95 _1gx4",size:'small',use:'success',key:r.id,onDismiss:this._removeInterestFromNotice.bind(this,r)},s));}).bind(this));return (i.createElement(l,{className:"_3-8x"},i.createElement(j,{className:"_3y60",transitionEnterTimeout:300,transitionLeaveTimeout:300,transitionName:'adprefs-notice'},q)));},addInterestsToNoticeGroup:function(q){var r=this.state.interests;q.forEach((function(s){if(r.length===this.props.maxNoticeCount)r.shift();r.push(s);window.setTimeout((function(){this._removeInterestFromNotice(s);}).bind(this),this.props.noticeTimeout);}).bind(this));this.setState({interests:r});}});f.exports=p;},null);
__d('AdsPreferencesCategoryAddedDialog.react',['LayerFadeOnHide','React','ReactLayeredComponentMixin','XUIContextualDialog.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=i.createClass({displayName:'AdsPreferencesCategoryAddedDialog',mixins:[j],getInitialState:function(){return {dialogShown:false,interests:[]};},renderLayers:function(){return {contextualDialog:i.createElement(k,{behaviors:{LayerFadeOnHide:h},contextRef:(function(){return this.refs.componentWrapper;}).bind(this),shown:this.state.dialogShown,position:'above'},this._renderLayerContent())};},_renderLayerContent:function(){var o=this.state.interests,p=o.map(function(q){return q.name;});return (i.createElement('div',{className:"_2ph_"},m._("Voc\u00ea adicionou {interest_names} \u00e0s suas prefer\u00eancias de an\u00fancios",[m.param('interest_names',i.createElement('b',null,p.join(', ')))])));},render:function(){return (i.createElement('div',{ref:'componentWrapper'},this.props.children));},setContentAndShow:function(o){if(this._showDialogTimeout)window.clearTimeout(this._showDialogTimeout);this.setState({interests:o,dialogShown:true});this._showDialogTimeout=window.setTimeout((function(){this._showDialogTimeout=null;this.setState({dialogShown:false});}).bind(this),4000);}});f.exports=n;},null);
__d('AdsPreferencesSuggestionsListItem.react',['Image.react','Layout.react','xuiglyph','React','XUIText.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=i.Column,p=i.FillColumn,q=k.PropTypes,r=k.createClass({displayName:'AdsPreferencesSuggestionsListItem',propTypes:{interest:q.object.isRequired,onSuggestionClick:q.func.isRequired,inMainList:q.bool.isRequired,isRemoved:q.bool.isRequired},getInitialState:function(){return {xHover:false,interestHover:false,enterTimeout:-1};},_xHover:function(){this.setState({xHover:!this.state.xHover});},_xOver:function(){if(!this.state.xHover)this.setState({xHover:true});},_interestHover:function(s){this.setState({interestHover:s});},_interestEnter:function(s,t,u){if(u){this._interestHover(true);return;}var v=setTimeout(this._interestEnter.bind(this,true,true,true),250);this.setState({enterTimeout:v});},_interestLeave:function(){this._interestHover(false);clearTimeout(this.state.enterTimeout);},_handleInterestClick:function(){this.props.onSuggestionClick(this.props.interest,!this.props.isRemoved,this.props.inMainList);},render:function(){var s=(this.state.interestHover?"_2imp":'')+(!this.state.interestHover?' '+"_2imq":'')+(' '+"_2imr"),t=k.createElement('span',{onMouseEnter:this._xHover,onMouseLeave:this._xHover,onMouseMove:this._xOver},k.createElement(h,{className:this.state.xHover?"hidden_elem":'',src:j({name:'cross',shade:'dark'})}),k.createElement(h,{className:!this.state.xHover?"hidden_elem":'',src:j({name:'cross',shade:'accent'})})),u=k.createElement('div',{className:s},k.createElement('a',{href:'#'},n._("Adicionar"))),v=!this.props.isRemoved?t:u,w=k.createElement('div',{className:this.props.isRemoved?"hidden_elem":''},n._("Adicionada"));return (k.createElement('li',{className:"_2imu",onMouseEnter:this._interestEnter,onMouseLeave:this._interestLeave},k.createElement(i,null,k.createElement(p,null,k.createElement(l,{size:'small',weight:'bold','data-fbid':this.props.interest.id},this.props.interest.name)),k.createElement(o,{className:'mlm'},k.createElement('div',{onClick:this._handleInterestClick,className:"_2imw"},v),k.createElement('div',{className:"_5tnl"},w)))));}});f.exports=r;},null);
__d('AdsPreferencesSuggestionsList.react',['AdsPreferencesSuggestionsListItem.react','List.react','React','cx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'AdsPreferencesSuggestionsList',propTypes:{adID:l.number,entrypoint:l.string,interestListFBIDs:l.object.isRequired,maxSuggestionsToShow:l.number.isRequired,onSuggestionClick:l.func.isRequired,removedInterests:l.object.isRequired,suggestions:l.array.isRequired},getInitialState:function(){return {};},render:function(){var n=this.props.suggestions;if(!n||n.length===0)return null;n=n.slice(0,this.props.maxSuggestionsToShow);var o=this.props.interestListFBIDs,p=n.map((function(q){var r=o[q.id]&&!this.props.removedInterests[q.id];return (j.createElement(h,{interest:q,isRemoved:!r,inMainList:!!o[q.id],key:q.id,onSuggestionClick:this.props.onSuggestionClick}));}).bind(this));return (j.createElement(i,{className:"_589n",edgepadding:true},p));}});f.exports=m;},null);
__d('AdsPreferencesCategoryInfoDialog.react',['AdPreferencesDesktopStrings','AdsPreferencesInterestListItem.react','AdsPreferencesSuggestionsList.react','LayerFadeOnHide','LayerHideOnEscape','List.react','React','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=n.PropTypes,u=5,v=n.createClass({displayName:'AdsPreferencesCategoryInfoDialog',mixins:[o],propTypes:{adID:t.number,entrypoint:t.string,onInterestClick:t.func,onReportPrefClick:t.func,onSuggestionClick:t.func,removedInterests:t.object,selectedInterests:t.object},getInitialState:function(){return {dialogShown:false,isFixedTopPosition:false,interests:t.array,category:t.object};},_onToggle:function(w){if(!w)this._onDialogClose();setTimeout(this.setState.bind(this,{dialogShown:w},null),0);},_onFixedTopPositionChange:function(event){this.setState({isFixedTopPosition:event.target.checked});},renderLayers:function(){if(!this.state.dialogShown)return {};return {dialog:n.createElement(p,{shown:true,behaviors:{LayerFadeOnHide:k,LayerHideOnEscape:l},onToggle:this._onToggle,fixedTopPosition:this.state.isFixedTopPosition?100:null,width:600},n.createElement(r,null,n.createElement('span',null,h.about_this_ads_preference)),n.createElement(q,{useCustomPadding:true,className:"_2pi1"},this._getCategoryList(),n.createElement('div',{className:"_2pif _2piq"},this.state.category.description),n.createElement('div',null,n.createElement(j,{adID:this.props.adID,entrypoint:this.props.entrypoint,interestListFBIDs:this.props.selectedInterests,maxSuggestionsToShow:u,onSuggestionClick:this.props.onSuggestionClick,removedInterests:this.props.removedInterests,suggestions:this.state.interests}))))};},_getCategoryList:function(){var w=this.state.category,x=!!this.props.removedInterests[w.id];return (n.createElement(m,{className:"_589n",edgepadding:true},n.createElement(i,{adID:this.props.adID,entrypoint:this.props.entrypoint,interest:w,isListItem:false,key:w.id,onInterestClick:this.props.onInterestClick,removed:x})));},_onDialogClose:function(){this.setState({dialogShown:false});},showDialog:function(w,x){this.setState({dialogShown:true,interests:w,category:x});},render:function(){return n.createElement('div',null);}});f.exports=v;},null);
__d('BUIFormRadioList.react',['React','XUIRadioList.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=c('XUIRadioList.react').Item,m=h.createClass({displayName:'BUIFormRadioList',propTypes:babelHelpers._extends({},i.propTypes),render:function(){return (h.createElement(i,babelHelpers._extends({},this.props,{className:k(this.props.className,"_8mz")}),this._renderChildren()));},_renderChildren:function(){return h.Children.map(this.props.children,function(n){return (h.cloneElement(n,{className:k(n.props.className,n.props.disabled?"_5w20":'')}));});}});m.Item=l;f.exports=m;},null);
__d("XAdsPreferencesReportInterestController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/preferences\/write\/interest_reports\/",{pref_id:{type:"Int",required:true},name:{type:"String",required:true},reason:{type:"String",required:true},comments:{type:"String"}});},null,{});
__d('AdsPreferencesReportPreferenceDialog.react',['AsyncRequest','BUIForm.react','BUIFormRadioList.react','LayerFadeOnHide','React','ReactLayeredComponentMixin','TextInput.atlas','XAdsPreferencesReportInterestController','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=c('BUIForm.react').Element,v=c('BUIFormRadioList.react').Item,w=c('BUIForm.react').Section,x=l.PropTypes,y=l.createClass({displayName:'AdsPreferencesReportPreferenceDialog',mixins:[m],propTypes:{},getInitialState:function(){return {dialogShown:false,flagReason:"inappropriate",isFixedTopPosition:false,interest:x.object,textFieldVal:''};},_onToggle:function(z){if(!z)this._onDialogClose();},_onFixedTopPositionChange:function(event){this.setState({isFixedTopPosition:event.target.checked});},_onChangeFlagReason:function(z){this.setState({flagReason:z});},_onTextFieldChange:function(z){this.setState({textFieldVal:z});},_onSubmit:function(event){var z=this.state.flagReason,aa=this.state.textFieldVal,ba=this.state.interest.name,ca=this.state.interest.id,da=o.getURIBuilder().setInt('pref_id',ca).setString('name',ba).setString('reason',z).setString('comments',aa).getURI(),ea=new h().setURI(da);ea.send();this.setState({dialogShown:false});},renderLayers:function(){if(!this.state.dialogShown)return {};return {dialog:l.createElement(q,{shown:true,behaviors:{LayerFadeOnHide:k},onToggle:this._onToggle,fixedTopPosition:this.state.isFixedTopPosition?100:null,width:600},l.createElement(s,null,'Report Preference: '+this.state.interest.name),l.createElement(r,{useCustomPadding:true,className:"_2pi1"},l.createElement(i,null,l.createElement(w,{title:'Why would you like to report this preference?'},l.createElement(u,{label:'Select a reason',labelAlign:'top'},l.createElement(j,{selectedValue:this.state.flagReason,onValueChange:this._onChangeFlagReason,className:"pas"},l.createElement(v,{value:'inappropriate'},'Inappropriate'),l.createElement(v,{value:'ambiguous'},'Requires Disambiguation (e.g., does "Mercury" refer to the planet or the element?)'),l.createElement(v,{value:'misspelled'},'Misspelled'),l.createElement(v,{value:'misclassified'},'Misclassified'),l.createElement(v,{value:'other'},'Other'))),l.createElement(u,{label:'Additional Information'},l.createElement('div',{style:{width:'320px'}},l.createElement(n,{onChange:this._onTextFieldChange,placeholder:'Additional info',value:this.state.textFieldVal}))),l.createElement(u,{label:''},l.createElement(p,{onClick:this._onSubmit,label:'Submit',use:'confirm'}))))))};},_onDialogClose:function(){this.setState({dialogShown:false});},showDialog:function(z){this.setState({dialogShown:true,interest:z});},render:function(){return l.createElement('div',null);}});f.exports=y;},null);
__d('AdsPreferencesList',['AdsPreferencesCategoryInfoDialog.react','AdPreferencesDesktopStrings','AdsPreferencesInterestListItem.react','AdsPreferencesReportPreferenceDialog.react','AsyncRequest','List.react','Link.react','React','ReactDOM','ReactLayeredComponentMixin','XAdPreferencesNUXController','XUIContextualDialog.react','XUIContextualDialogTitle.react','XUIContextualDialogBody.react','XUIContextualDialogFooter.react','XUIDialogCloseButton.react','XUIGrayText.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){if(c.__markCompiled)c.__markCompiled();var z=o.PropTypes,aa=30,ba="Other",ca=o.createClass({displayName:'AdsPreferencesList',mixins:[q],propTypes:{adID:z.number,entrypoint:z.string,entries:z.array,onRemoveInterest:z.func,onUndoRemoveInterest:z.func,onSuggestionClick:z.func,permitInternalReportPreference:z.bool.isRequired,removedInterests:z.object.isRequired,selectedInterests:z.object.isRequired,showBelowMinInterestsNUX:z.bool,showFirstRemovalNUX:z.bool,setEntriesFromInterestsWithFBIDs:z.func.isRequired},getInitialState:function(){var da=Math.floor(Math.random()*5)+20;return {page:1,shownTopics:{},showFirstRemovalNUX:this.props.showFirstRemovalNUX,showBelowMinInterestsNUX:this.props.showBelowMinInterestsNUX?da:0,showDialog:false,nodeRef:z.func};},render:function(){if(!this.props.entries||!this.props.entries.length)return o.createElement('div',null);var da={};this.props.entries.forEach(function(ha){var ia=i[ha.topic]?ha.topic:ba;if(!da[ia])da[ia]=[];da[ia].push(ha);});var ea=[],fa=Object.keys(da),ga=fa.sort(function(ha,ia){return ha>ia?1:-1;});ga.forEach((function(ha){var ia=0;da[ha].forEach((function(ma){if(this.props.removedInterests[ma.id])ia+=1;}).bind(this));var ja=this.state.shownTopics[ha]?o.createElement('div',{className:"_443y"}):o.createElement('div',{className:"_443z"});ea.push(o.createElement('li',{className:"_2pph _443-",key:ha,onClick:this._onTopicHeaderClick.bind(this,ha)},o.createElement('div',{className:"clearfix"},ja,o.createElement(x,{shade:'medium',className:"_443_"},i[ha]),o.createElement('span',{className:"_2yxz"},da[ha].length-ia))));if(!this.state.shownTopics[ha])return;var ka=da[ha].sort(function(ma,na){return ma.name.toLowerCase()>na.name.toLowerCase()?1:-1;}),la=ka.map((function(ma){var na=!!this.props.removedInterests[ma.id];return (o.createElement(j,{adID:this.props.adID,entrypoint:this.props.entrypoint,interest:ma,isListItem:true,key:ma.id,onInterestClick:this._onInterestClick,removed:na,setDialog:this._onCategoryNameClick,setReportDialog:this.props.permitInternalReportPreference?this._onReportPrefClick:null}));}).bind(this));ea.push(la);}).bind(this));return (o.createElement('div',null,o.createElement(m,{className:"_2ppi",edgepadding:true},ea),o.createElement(h,{adID:this.props.adID,entrypoint:this.props.entrypoint,onInterestClick:this._onInterestClick,onSuggestionClick:this.props.onSuggestionClick,removedInterests:this.props.removedInterests,selectedInterests:this.props.selectedInterests,ref:'categoryInfoDialog'}),o.createElement(k,{ref:'reportPrefDialog'})));},renderLayers:function(){if(!this.state.showDialog)return null;var da,ea=null;if(this.state.showFirstRemovalNUX){da=i.remove_interest_nux_body;}else{da=i.below_min_interests_nux_body;ea=o.createElement(n,{href:'/help/247395082112892'},i.learn_more,'.');}return {contextualDialog:o.createElement(s,{alignment:'right',context:p.findDOMNode(this.state.nodeRef),focusContextOnHide:false,position:'below',shown:this.state.showDialog,width:s.WIDTH.NORMAL},o.createElement(t,null,i.remove_interest_nux_title),o.createElement(u,null,da,' ',ea),o.createElement(v,null,o.createElement(w,{use:'confirm',label:'Close',onClick:this._hideDialog})))};},_hideDialog:function(){this.setState({showFirstRemovalNUX:false});this.setState({showBelowMinInterestsNUX:0});this.setState({showDialog:false});},_setInterests:function(da,ea){this.props.setEntriesFromInterestsWithFBIDs(ea);},_onCategoryNameClick:function(da,ea){this.refs.categoryInfoDialog.showDialog(ea,da);},_onReportPrefClick:function(da){this.refs.reportPrefDialog.showDialog(da);},_getNumEntriesToDisplay:function(){return this.state.page*aa;},_onInterestClick:function(da,ea,fa){var ga=da.id,ha=da.type||'interest';if(ea){this.props.onUndoRemoveInterest&&this.props.onUndoRemoveInterest(ha,ga);}else{this.props.onRemoveInterest&&this.props.onRemoveInterest(ha,ga);var ia=this.props.entries.length-Object.keys(this.props.removedInterests).length;if(fa!=null&&(this.state.showFirstRemovalNUX||ia<this.state.showBelowMinInterestsNUX)){this.setState({nodeRef:fa});this.setState({showDialog:true});var ja=this.state.showFirstRemoval?'interest_nux_ts':'interest_removal_nux_ts',ka=r.getURIBuilder().setString('type',ja).getURI();new l(ka).send();}}},_onTopicHeaderClick:function(da){var ea=this.state.shownTopics;ea[da]=!ea[da];this.setState({shownTopics:ea});},_addInterests:function(da){var ea=(this.props.selectedInterests||[]).slice();ea=ea.concat(da);this.props.setEntriesFromInterestsWithFBIDs(ea);}});f.exports=ca;},null);
__d('AdsPreferencesUiLogger',['AsyncRequest'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i='/ads/preferences/log/';function j(k){new h(i).setData(k).send();}f.exports={log:function(k,l,m){var n={event:k,ad_id:l,entry_point:m};j(n);}};},null);
__d('XUICarouselAnimator',['StepperAnimation','Ease','Style','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=0,m=1,n=['vertical','horizontal','showcase'];function o(p){var q=p.type,r=p.centered,s=p.firstAndLastAligned;q=q===undefined?'horizontal':q;var t=this.$XUICarouselAnimator1=q==='showcase',u=this.$XUICarouselAnimator2=q==='horizontal',v=this.$XUICarouselAnimator3=q==='vertical';this.$XUICarouselAnimator4=!!r;this.$XUICarouselAnimator5=!!s;this.$XUICarouselAnimator6=(t?"_9bn":'')+(v?' '+"_9bo":'')+(u?' '+"_9bp":'');}o.prototype.update=function(p){if(this.$XUICarouselAnimator1){this.$XUICarouselAnimator7(p);}else this.$XUICarouselAnimator8(p);};o.prototype.createAnimation=function(p){var q=p.nextIndex,r=p.items;if(q>=0&&q<r.length)if(this.$XUICarouselAnimator1){return this.$XUICarouselAnimator9(p);}else return this.$XUICarouselAnimator10(p);};o.prototype.getCSSClassForRoot=function(){return this.$XUICarouselAnimator6;};o.prototype.getViewportHeight=function(p){return this.$XUICarouselAnimator11(p);};o.prototype.getViewportWidth=function(p){return this.$XUICarouselAnimator12(p);};o.prototype.getContainerHeight=function(p){return this.$XUICarouselAnimator3?this.$XUICarouselAnimator13(p):this.$XUICarouselAnimator11(p);};o.prototype.getContainerWidth=function(p){return this.$XUICarouselAnimator2?this.$XUICarouselAnimator14(p):this.$XUICarouselAnimator12(p);};o.prototype.getMaxIndexForNextArrow=function(p){var q=p.viewport,r=p.items,s=r.length-1;if(!this.$XUICarouselAnimator5||!q)return s;var t=this.$XUICarouselAnimator15(),u=this.$XUICarouselAnimator16(p,t),v=this.$XUICarouselAnimator17(p,t);if(u<0)return s;var w=0;for(var x=0;x<v.length;x++){w+=v[x];if(w>=u)return x;}return s;};o.prototype.remove=function(p){if(this.$XUICarouselAnimator1){this.$XUICarouselAnimator18(p);}else this.$XUICarouselAnimator19(p);};o.prototype.$XUICarouselAnimator18=function(p){var q=p.items;for(var r=0,s=q.length;r<s;r++){var t=q[r];j.set(t,'opacity',1);j.set(t,'left','auto');j.set(t,'top','auto');j.set(t,'position','static');}};o.prototype.$XUICarouselAnimator19=function(p){var q=this.$XUICarouselAnimator2?'margin-left':'margin-top';j.set(p.container,q,0);};o.prototype.$XUICarouselAnimator7=function(p){var q=p.items,r=p.index;this.$XUICarouselAnimator20(p,q,r);};o.prototype.$XUICarouselAnimator20=function(p,q,r){j.set(p.container,'marginTop',0);j.set(p.container,'marginLeft',0);for(var s=0,t=q.length;s<t;s++){var u=q[s];j.set(u,'opacity',s===r?1:0);j.set(u,'position','absolute');this.$XUICarouselAnimator21(p,u);}};o.prototype.$XUICarouselAnimator8=function(p){var q=p.index,r=p.container;this.$XUICarouselAnimator22(p,q,r);};o.prototype.$XUICarouselAnimator22=function(p,q,r){var s=this.$XUICarouselAnimator2?'margin-left':'margin-top',t=this.$XUICarouselAnimator23(p,q);j.set(r,s,t+'px');};o.prototype.$XUICarouselAnimator23=function(p,q){var r=this.$XUICarouselAnimator15(),s=this.$XUICarouselAnimator16(p,r),t=this.$XUICarouselAnimator24(p,q),u=-Math.min(s,t),v=this.$XUICarouselAnimator25(p,q);return u+v;};o.prototype.$XUICarouselAnimator24=function(p,q){var r=p.items,s=r[q],t=0;if(s){var u,v;if(this.$XUICarouselAnimator2){u='marginLeft';v=this.$XUICarouselAnimator26;}else{u='marginTop';v=this.$XUICarouselAnimator27;}for(var w=0;w<q;w++)t+=v.call(this,r[w]);t+=parseInt(j.get(s,u),10);}return t;};o.prototype.$XUICarouselAnimator9=function(p){var q=p.nextIndex,r=p.items,s=p.curIndex,t=r[s],u=r[q],v=j.get(t,'opacity'),w=null;if(p.animate){w=new h.Parallel([new h(t).from('opacity',v).to('opacity',0).ease(i.sineInOut),new h(u).from('opacity',0).to('opacity',1).ease(i.sineInOut)]);}else this.$XUICarouselAnimator20(p,r,q);return w;};o.prototype.$XUICarouselAnimator21=function(p,q){if(this.$XUICarouselAnimator4){var r=p.viewport,s=r.offsetWidth,t=r.offsetHeight,u=this.$XUICarouselAnimator28(q,l),v=this.$XUICarouselAnimator28(q,m);j.set(q,'left',(s-u)/2+'px');j.set(q,'top',(t-v)/2+'px');}else{j.set(q,'left',0);j.set(q,'top','auto');}};o.prototype.$XUICarouselAnimator10=function(p){var q=p.container,r=p.nextIndex,s=this.$XUICarouselAnimator2?'margin-left':'margin-top',t=this.$XUICarouselAnimator23(p,r),u=new h(q);if(p.animate){u.from(s,j.get(q,s)).to(s,t+'px').ease(i.sineInOut);}else this.$XUICarouselAnimator22(p,r,q);return u;};o.prototype.$XUICarouselAnimator25=function(p,q){var r=p.viewport,s=p.items,t=s[q];if(this.$XUICarouselAnimator5)if(q===0||q===p.items.length-1)return 0;if(this.$XUICarouselAnimator4){if(this.$XUICarouselAnimator2)return (r.offsetWidth-t.offsetWidth)/2;if(this.$XUICarouselAnimator3)return (r.offsetHeight-t.offsetHeight)/2;}return 0;};o.prototype.$XUICarouselAnimator11=function(p){return this.$XUICarouselAnimator29(p,m);};o.prototype.$XUICarouselAnimator12=function(p){return this.$XUICarouselAnimator29(p,l);};o.prototype.$XUICarouselAnimator29=function(p,q){return Math.max.apply(null,this.$XUICarouselAnimator17(p,q));};o.prototype.$XUICarouselAnimator27=function(p){return this.$XUICarouselAnimator28(p,m);};o.prototype.$XUICarouselAnimator26=function(p){return this.$XUICarouselAnimator28(p,l);};o.prototype.$XUICarouselAnimator28=function(p,q){var r,s,t,u=p.style.position;j.set(p,'position','static');if(q===l){r='offsetWidth';s='marginLeft';t='marginRight';}else{r='offsetHeight';s='marginTop';t='marginBottom';}s=parseInt(j.get(p,s),10);t=parseInt(j.get(p,t),10);var v=p[r]+s+t;j.set(p,'position',u);return v;};o.prototype.$XUICarouselAnimator13=function(p){return this.$XUICarouselAnimator30(p,m);};o.prototype.$XUICarouselAnimator14=function(p){return this.$XUICarouselAnimator30(p,l);};o.prototype.$XUICarouselAnimator17=function(p,q){return p.items.map((function(r){return this.$XUICarouselAnimator28(r,q);}).bind(this));};o.prototype.$XUICarouselAnimator30=function(p,q){var r=this.$XUICarouselAnimator17(p,q);return r.reduce(function(s,t){return s+t;},0);};o.prototype.$XUICarouselAnimator16=function(p,q){if(!this.$XUICarouselAnimator5)return Infinity;var r=p.viewport,s=this.$XUICarouselAnimator30(p,q),t=q===l?r.offsetWidth:r.offsetHeight;return s-t;};o.prototype.$XUICarouselAnimator15=function(){return this.$XUICarouselAnimator2?l:m;};f.exports=o;},null);
__d('XUICarousel.react',['ArbiterMixin','React','ReactDOM','ReactChildren','ReactComponentWithPureRenderMixin','XUICarouselAnimator','cloneWithProps','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=i.PropTypes,s='`arrows` must be an array of [<prevArrow/>, <nextArrow/>] or null',t='prev',u='next',v=i.createClass({displayName:'XUICarousel',mixins:[h,l],propTypes:{arrows:function(x,y){var z=x[y];if(z){if(!Array.isArray(z)||z.length!==2)return new Error(s);var aa=z[0],ba=z[1];if(!i.isValidElement(aa)||!i.isValidElement(ba))return new Error(s);}},animator:r.shape({createAnimation:r.func.isRequired,getCSSClassForRoot:r.func.isRequired,getViewportWidth:r.func.isRequired,getViewportHeight:r.func.isRequired,getContainerWidth:r.func.isRequired,getContainerHeight:r.func.isRequired,update:r.func.isRequired,remove:r.func.isRequired}).isRequired,initialIndex:r.number,animationDuration:r.number,initialAutoplay:r.bool,wrapAround:r.bool,autoplayDirection:r.oneOf(['forward','backward']),stopAutoplayOnHover:r.bool,autoplayInterval:r.number,resizeViewport:r.oneOf(['disabled','fixed','dynamic']),viewportWidth:r.number,viewportHeight:r.number,onItemClick:r.func},getDefaultProps:function(){return {animator:new m({type:'horizontal',centered:true,firstAndLastAligned:false}),initialIndex:0,animationDuration:200,initialAutoplay:true,autoplayInterval:5000,autoplayDirection:'forward',stopAutoplayOnHover:true,resizeViewport:'fixed',wrapAround:true};},getInitialState:function(){return {index:this.props.initialIndex,autoplay:this.props.initialAutoplay,containerWidth:0,animatorClassForRoot:this.props.animator.getCSSClassForRoot(),containerHeight:0,viewportWidth:'auto',viewportHeight:'auto'};},getItemCount:function(){return k.count(this.props.children);},_getItems:function(){var x=this.getItemCount(),y=[];for(var z=0;z<x;z++)if(this.refs.itemsContainer&&this.refs.itemsContainer.childNodes[z])y[z]=this.refs.itemsContainer.childNodes[z];return y;},_getContextForAnimator:function(){return {container:j.findDOMNode(this.refs.itemsContainer),items:this._getItems().map(function(x){return j.findDOMNode(x);}),viewport:j.findDOMNode(this.refs.viewport)};},componentDidMount:function(){var x=this.props.animator,y=this._getContextForAnimator();this.setState({containerWidth:x.getContainerWidth(y),containerHeight:x.getContainerHeight(y),viewportWidth:x.getViewportWidth(y),viewportHeight:x.getViewportHeight(y)});x.update(babelHelpers._extends({},y,{index:this.state.index}));if(this.state.autoplay)this._autoplay();},componentWillMount:function(){this._isHovering=false;this._autoplayInterval=null;this._animation=null;},componentWillUnmount:function(){this._stopCurrentAnimation();this._stopAutoplay();},componentWillUpdate:function(x,y){var z=w(this.props,x),aa=w(this.state,y),ba=this._getContextForAnimator();if(x.children.length<y.index)this.setState({index:0});var ca=x.animator;if(z.animator){this._stopCurrentAnimation();this.props.animator.remove(ba);}var da,ea=this.state.index;if(this._prevReactItems){var fa=k.map(x.children,function(ga){return ga.props.childIndex;});ea=Math.max(fa.indexOf(this._prevReactItems[this.state.index]),0);}if(this.state.index!==ea)this._nextIndex=ea;if(aa.index){this.inform('animation_start',y.index);da=ca.createAnimation(babelHelpers._extends({},ba,{nextIndex:y.index,curIndex:ea,animate:!this._nextIndex}));this._animation=da;da.duration(x.animationDuration);da.addListener('done',this._onAnimationDone.bind(this,y.index));da.go();}if(aa.autoplay||z.autoplayInterval||z.autoplayDirection){this._stopAutoplay();if(y.autoplay&&(!this._isHovering||!x.stopAutoplayOnHover))this._autoplay();}this._prevReactItems=k.map(this.props.children,function(ga){return ga.props.childIndex;});},componentDidUpdate:function(x,y){var z=this.props.animator,aa=this._getContextForAnimator(),ba=false,ca=false,da=false,ea=this._prevItems,fa=this._getItems(),ga=!ea||ea.length!==fa.length||!ea.every(function(ha,ia){return ha===fa[ia];});if(this._nextIndex){this.setState({index:this._nextIndex});this._nextIndex=null;}if(ga){da=true;ba=true;ca=this.props.resizeViewport==='dynamic';this.inform('item_count_updated',this.getItemCount());}if(z!==x.animator){this.setState({animatorClassForRoot:z.getCSSClassForRoot()});ba=true;da=true;}if(x.resizeViewport!==this.props.resizeViewport){ca=x.resizeViewport==='disabled'||this.props.resizeViewport==='dynamic';ba=true;}if(da)this.setState({containerWidth:z.getContainerWidth(aa),containerHeight:z.getContainerHeight(aa)});if(ca)this.setState({viewportWidth:z.getViewportWidth(aa),viewportHeight:z.getViewportHeight(aa)});if(ba)z.update(babelHelpers._extends({},aa,{index:this.state.index}));},setAutoplayEnabled:function(x){this.setState({autoplay:x});},_autoplay:function(){if(!this._autoplayInterval){var x=this.props.autoplayDirection==='forward'?this.next:this.prev;this._autoplayInterval=setInterval(x,this.props.autoplayInterval);}},_stopAutoplay:function(){clearInterval(this._autoplayInterval);this._autoplayInterval=null;},_stopCurrentAnimation:function(){if(this._animation){this._animation.stop();this._animation=null;}},_onAnimationDone:function(x){this._animation=null;this.inform('animationEnd',x);},_onMouseEnter:function(){this._isHovering=true;if(this.props.stopAutoplayOnHover)this._stopAutoplay();},_onMouseLeave:function(){this._isHovering=false;if(this.state.autoplay)this._autoplay();},setIndex:function(x){if(x>=0&&x<this.props.children.length){this.setState({index:x});this._stopAutoplay();if(this.state.autoplay)this._autoplay();return true;}return false;},next:function(){var x=this.state.index,y=this.getItemCount(),z=y-1;if((x!==z||x===z&&this.props.wrapAround)&&y){var aa=x===z?0:x+1;this.setIndex(aa);}},prev:function(){var x=this.state.index,y=this.getItemCount();if(x!==0||x===0&&this.props.wrapAround){var z=x===0?y-1:x-1;this.setIndex(z);}},_renderChildren:function(){return k.map(this.props.children,(function(x,y){return (n(x,{ref:x.props.childIndex,index:y,onClick:(function(){if(this.props.onItemClick){this.props.onItemClick(y);}else this.setIndex(y);}).bind(this),selected:y===this.state.index}));}).bind(this));},_shouldRenderNextArrow:function(){var x=this.props,y=x.wrapAround,z=x.animator;if(y)return true;var aa=this._getContextForAnimator();return this.state.index<=z.getMaxIndexForNextArrow(aa);},_renderArrows:function(){if(this.props.arrows){var x=this.props.arrows,y=x[0],z=x[1];y=n(y,{key:t,onClick:y.props.onClick?y.props.onClick:this.prev,disabled:!this.props.wrapAround&&this.state.index===0,className:q("_50z1",y.className),"aria-label":p._("Anterior")});z=n(z,{key:u,onClick:z.props.onClick?z.props.onClick:this.next,disabled:!this._shouldRenderNextArrow(),className:q("_50z2",z.className),"aria-label":p._("Avan\u00e7ar")});return [y,z];}return null;},render:function(){var x=this.props,y=x.className,z=x.viewportWidth,aa=x.viewportHeight,ba=x.resizeViewport;y=q(y,this.state.animatorClassForRoot,"_50z3"+(this.state.animating?' '+"_50zi":''));var ca={height:aa,width:z};if(ba!=='disabled'){ca.width=z||this.state.viewportWidth;ca.height=aa||this.state.viewportHeight;}return (i.createElement('div',{className:y},i.createElement('div',{className:"_50zm",ref:'viewport',onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,style:babelHelpers._extends({},ca,{overflow:'hidden'})},i.createElement('div',{style:{width:this.state.viewportWidth||'auto',height:this.state.viewportHeight||'auto'}},i.createElement('div',{className:"_50zn clearfix",style:{width:this.state.containerWidth||'auto',height:this.state.containerHeight||'auto'},ref:'itemsContainer'},this._renderChildren())),this._renderArrows())));}});function w(x,y){var z={};for(var aa in x)if(x.hasOwnProperty(aa))z[aa]=x[aa]!==y[aa];for(var ba in y)if(y.hasOwnProperty(ba)&&!z.hasOwnProperty(ba))z[ba]=x[ba]!==y[ba];return z;}f.exports=v;},null);
__d('XUICarouselItem.react',['React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'XUICarouselItem',propTypes:{selected:k.bool.isRequired},render:function(){var m=this.props,n=m.children,o=m.className,p=m.selected,q=babelHelpers.objectWithoutProperties(m,['children','className','selected']);o=j(o,"_3el6"+(p?' '+"_3el7":''));return (h.createElement('div',{className:"_3el8 clearfix"},h.createElement('div',babelHelpers._extends({},q,{className:o}),n)));}});f.exports=l;},null);
__d('XUICarouselLinks.react',['DOM','DOMClone','React','ReactDOM','DOMContainer.react','cloneWithProps','csx','cx','isNode','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=j.PropTypes,s=j.createClass({displayName:'XUICarouselLinks',propTypes:{carousel:r.object.isRequired,template:function(t){var u=t.template;if(u&&!j.isValidElement(u)&&!p(u))return new Error('Expected a DOM node or ReactElement for template');},width:r.number,centered:r.bool},getDefaultProps:function(){return {template:j.createElement('li',{className:"_3jav"}),centered:true};},getInitialState:function(){return {disabled:false,itemCount:this.props.carousel.getItemCount(),index:this.props.carousel.state.currentIndex};},componentWillMount:function(){this._registerToCarousel(this.props.carousel);},willDestroyElement:function(){this._unregisterCarousel();},_unregisterCarousel:function(){this.props.carousel.unsubscribe(this.arbiterToken);},_registerToCarousel:function(t){this.arbiterToken=t.subscribe(['animation_start','item_count_updated'],(function(u,v){if(u==='animation_start'){this.setState({index:v});}else this.setState({itemCount:v});}).bind(this));},componentWillUpdate:function(t){if(this.props.carousel!==t.carousel){this._unregisterCarousel();this._registerToCarousel(t.carousel);}},onLinkClick:function(t){this.props.carousel.setIndex(t);},renderLinks:function(){var t=[],u=this.props.template,v=j.isValidElement(u);for(var w=0;w<this.state.itemCount;w++){var x="_3jaw"+(w===this.state.index?' '+"_3el7":'');if(v){t.push(m(u,{className:q(u.className,x),key:w,onClick:this.onLinkClick.bind(this,w)}));}else t.push(j.createElement('div',{key:w,onClick:this.onLinkClick.bind(this,w),className:x},j.createElement(l,null,i.deepClone(u))));}return t;},render:function(){var t=q(this.props.className,"_3jay"+(this.props.centered?' '+"_3jaz":'')),u;if(this.props.width)u={width:this.props.width};setTimeout((function(){if(this.isMounted()){var v=h.scry(k.findDOMNode(this),"._3jaw");v.forEach(function(w){var x=w.style.display;w.style.display='none';w.offsetHeight;w.style.display=x;});}}).bind(this));return (j.createElement('div',{style:u},j.createElement('div',{className:t},this.renderLinks())));}});f.exports=s;},null);
__d('AdsPreferencesRHCCarousel.react',['AdPreferencesDesktopStrings','AdsPreferencesUiLogger','Image.react','Link.react','React','URI','XUICard.react','XUICarousel.react','XUICarouselItem.react','XUICarouselLinks.react','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=l.PropTypes;g.framework='React';var u=l.createClass({displayName:'AdsPreferencesRHCCarousel',propTypes:{extraData:t.object.isRequired,adID:t.number,entrypoint:t.string},getInitialState:function(){return {autoplayDirection:'forward',stopAutoplayOnHover:true,animationDuration:200,autoplayInterval:8000,isFirstRender:true};},renderLinks:function(){if(this.refs.carousel)return l.createElement(q,{carousel:this.refs.carousel});},render:function(){if(this.state.isFirstRender)setTimeout((function(){this.setState({isFirstRender:false});}).bind(this),0);var v=this.props.extraData.carousel.carousel_desktop_title,w=this.props.extraData.carousel.carousel_autoplay_interval,x=this.props.extraData.carousel.carousel_animation_duration,y=this.props.extraData.carousel.carousel_initial_autoplay,z=this.props.extraData.carousel.carousel_stop_autoplay_on_hover,aa=[s('/images/marketing/education/Ad-Preferences-Desktop-carousel-slide1.png'),s('/images/marketing/education/Ad-Preferences-Desktop-carousel-slide2.png'),s('/images/marketing/education/Ad-Preferences-Desktop-carousel-slide3.png'),s('/images/marketing/education/Ad-Preferences-Desktop-carousel-slide4.png')],ba=0,ca=[];this.props.extraData.carousel.carousel_items.forEach((function(da){ca.push(this._getCarouselItems(aa[ba],da.carousel_desktop_header,da.carousel_desktop_text,da.carousel_permalink_uri));ba++;}).bind(this));return (l.createElement(n,{className:"_4ese mbm"},l.createElement('h2',{className:"_4w_7 mbs"},v),l.createElement(o,{initialindex:1,initialAutoplay:y,autoplayInterval:w,autoplayDirection:this.state.autoplayDirection,animationDuration:x,stopAutoplayOnHover:z,ref:'carousel'},ca[0],ca[1],ca[2],ca[3]),this.renderLinks()));},_getCarouselItems:function(v,w,x,y){return (l.createElement(p,null,l.createElement('div',{className:"_2piu _2pik _2pip _4esf"},l.createElement(j,{className:"_3-9d",src:v,alt:w,width:250,height:125}),l.createElement('h1',{className:"_4esg"},w),l.createElement('p',{className:"_3-8w _3-95"},x),l.createElement(k,{target:'_blank',href:new m(y),onClick:this._onClickLink},this.props.extraData.carousel.carousel_desktop_linktext))));},_onClickLink:function(){i.log(h.carousel_learn_more_link_logging,this.props.adID,this.props.entrypoint);}});f.exports=u;},null);
__d('AdsPreferencesSuggestionsDialog.react',['AdPreferencesDesktopStrings','AdsPreferencesSuggestionsList.react','LayerFadeOnHide','LayerHideOnEscape','Link.react','React','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=m.PropTypes,t=10,u=m.createClass({displayName:'AdsPreferencesSuggestionsDialog',mixins:[n],propTypes:{adID:s.number,entrypoint:s.string,onSuggestionClick:s.func,removedInterests:s.object,selectedInterests:s.object,suggestions:s.array},getInitialState:function(){return {dialogShown:false,isFixedTopPosition:false};},_onToggle:function(v){if(!v)this._onDialogClose();setTimeout(this.setState.bind(this,{dialogShown:v},null),0);},_onFixedTopPositionChange:function(event){this.setState({isFixedTopPosition:event.target.checked});},renderLayers:function(){if(!this.state.dialogShown)return {};return {dialog:m.createElement(o,{shown:true,behaviors:{LayerFadeOnHide:j,LayerHideOnEscape:k},onToggle:this._onToggle,fixedTopPosition:this.state.isFixedTopPosition?100:null,width:600},m.createElement(q,null,m.createElement('span',null,h.more_suggestion_dialog_title)),m.createElement(p,{useCustomPadding:true,className:"_2pi1"},m.createElement('div',{className:"_2pip"},h.more_suggestion_dialog_text),m.createElement('div',null,m.createElement(i,{adID:this.props.adID,entrypoint:this.props.entrypoint,interestListFBIDs:this.props.selectedInterests,maxSuggestionsToShow:t,onSuggestionClick:this.props.onSuggestionClick,removedInterests:this.props.removedInterests,suggestions:this.props.suggestions}))))};},_onDialogClose:function(){this.setState({dialogShown:false});},_onLinkClick:function(){this.setState({dialogShown:true});},render:function(){var v=this.props.suggestions;if(!v||!v.length)return null;return (m.createElement('div',null,m.createElement(l,{href:'#',className:"_2g_u",onClick:this._onLinkClick},h.more_sugggestions_button)));}});f.exports=u;},null);
__d('AdsPreferencesSuggestionsCard.react',['AdPreferencesDesktopStrings','AdsPreferencesSuggestionsDialog.react','AdsPreferencesSuggestionsList.react','React','XUICard.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=4,p=k.createClass({displayName:'AdsPreferencesSuggestionsCard',propTypes:{adID:n.number,entrypoint:n.string,onSuggestionClick:n.func,removedInterests:n.object,selectedInterests:n.object,suggestedInterests:n.array},getInitialState:function(){return {};},render:function(){var q=this.props.suggestedInterests||[];if(!q||!q.length)return null;return (k.createElement(l,{className:"_4w_6 clearfix mbm"},k.createElement('h2',{className:"_4w_7 mbs"},h.suggested_preferences_title),k.createElement('div',{className:"_5sc0"},k.createElement('div',{className:"_3zdp _2pi3"},h.suggestions_helplink),k.createElement(j,{className:"_146y",adID:this.props.adID,entrypoint:this.props.entrypoint,interestListFBIDs:this.props.selectedInterests,maxSuggestionsToShow:o,onSuggestionClick:this.props.onSuggestionClick,removedInterests:this.props.removedInterests,suggestions:this.props.suggestedInterests}),k.createElement(i,{adID:this.props.adID,entrypoint:this.props.entrypoint,onSuggestionClick:this.props.onSuggestionClick,removedInterests:this.props.removedInterests,selectedInterests:this.props.selectedInterests,suggestions:q}))));}});f.exports=p;},null);
__d('AdsPreferencesDesktopView',['AdsPreferencesAddedInterestNoticeGroup.react','AdPreferencesTypeStrings','AdsPreferencesCategoryAddedDialog.react','AdsPreferencesConstants','AdPreferencesDesktopStrings','AdsPreferencesList','AdsPreferencesRHCCarousel.react','AdsPreferencesSuggestionsCard.react','AdsPreferencesUiLogger','AdsSearchBrowseInterests.react','AsyncRequest','DOMContainer.react','Link.react','React','XUICard.react','cx','fbt','XAdPreferencesInterestsWriteController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){if(c.__markCompiled)c.__markCompiled();var z=u.PropTypes,aa=k.CATEGORY_FILTERS,ba=u.createClass({displayName:'AdsPreferencesDesktopView',propTypes:{adID:z.number,entrypoint:z.string,dao:z.object.isRequired,extraData:z.object.isRequired,initialInterests:z.array.isRequired,suggestedInterests:z.array},getInitialState:function(){return {interests:this.props.initialInterests,removedInterests:{},filter:aa.NONE};},componentDidMount:function(){if(this.props.initialInterests)this.refs.interestsTokenizer.setEntriesFromInterestsWithFBIDsCallUpdate(this.props.initialInterests);},render:function(){var ca=this.props.extraData&&this.props.extraData.partner_categories_opt_out_card?u.createElement(s,null,this.props.extraData.partner_categories_opt_out_card):null,da=this.props.extraData&&this.props.extraData.about_facebook_ads_card?u.createElement(s,null,this.props.extraData&&this.props.extraData.about_facebook_ads_card):u.createElement('div',{onMouseDown:this._onClickCarousel},u.createElement(n,{extraData:this.props.extraData,adID:this.props.adID,entrypoint:this.props.entrypoint})),ea=this.props.extraData.intro_text,fa=x._("Suas prefer\u00eancias de an\u00fancios"),ga=l.edit_ad_preferences_blurb,ha=x._("Saiba mais."),ia=x._("Prefer\u00eancia de an\u00fancio");if(ea){fa=ea.header;ga=ea.blurb;ha=ea.link;ia=ea.typeahead;}var ja=this.props.extraData&&this.props.extraData.notice_group?u.createElement(h,{className:"_1gx4",maxNoticeCount:this.props.extraData.notice_group.count,noticeTimeout:this.props.extraData.notice_group.timeout,ref:'addedInterestNoticeGroup'}):null;return (u.createElement('div',{className:"clearfix"},u.createElement('div',{className:"_55l0"},u.createElement(v,{className:"_4w_6"},u.createElement('h2',{className:"_4w_7"},fa,u.createElement('div',{className:"_1gx4 _3zdp _2pid"},ga,' ',u.createElement(t,{href:'/about/ads'},ha)),ja),u.createElement('div',{className:"_4w_9"},u.createElement(j,{ref:'categoryAddedDialog'},u.createElement(q,{ref:'interestsTokenizer',dao:this.props.dao,hideSuggestions:true,hideTokenizerList:true,hideValidationDialog:true,onUpdateInterestsAdsPrefs:this._onUpdateInterests,width:600,whitelistedInterestsOnly:true,showWhiteBox:false,placeholder:ia}))),u.createElement(m,{adID:this.props.adID,entrypoint:this.props.entrypoint,entries:this.state.interests,onRemoveInterest:this._onRemoveInterest,onUndoRemoveInterest:this._onUndoRemoveInterest,onSuggestionClick:this._onSuggestionClick,removedInterests:this.state.removedInterests,selectedInterests:this._getInterestFBIDs(),showFirstRemovalNUX:this.props.extraData.nux_info.interest_nux_ts,showBelowMinInterestsNUX:this.props.extraData.nux_info.interest_removal_nux_ts,setEntriesFromInterestsWithFBIDs:this._setEntriesFromInterestsWithFBIDs,permitInternalReportPreference:this.props.extraData.show_employee_pref_report_gk}))),u.createElement('div',{className:"_55l1"},da,u.createElement(o,{adID:this.props.adID,entrypoint:this.props.entrypoint,onSuggestionClick:this._onSuggestionClick,removedInterests:this.state.removedInterests,selectedInterests:this._getInterestFBIDs(),suggestedInterests:this.props.suggestedInterests}),ca)));},_setEntriesFromInterestsWithFBIDs:function(ca,da){this._suppressDialog=da;this.refs.interestsTokenizer.setEntriesFromInterestsWithFBIDsCallUpdate(ca);},_removeListItem:function(ca){var da=this.state.interests.filter(function(ea){return ca.id!=ea.id;});this.setState({interests:da});},_getAddedInterestFBIDs:function(){var ca={};this.props.initialInterests.map(function(ea){ca[ea.id]=true;});var da={};this.state.interests.forEach(function(ea){if(!ca[ea.id])da[ea.id]=true;});return da;},_onUpdateInterests:function(ca){var da={};this.state.interests.forEach(function(ha){da[ha.id]=true;});var ea=[];ca.forEach(function(ha){if(!da[ha.id])ea.push(ha);});if(!ea.length)return;var fa=ea.map(function(ha){return ha.id;}),ga=fa.filter((function(ha){return !this.state.removedInterests[ha];}).bind(this));this._sendEditPrefsRequest(i.interest,'add',ga);this.setState({interests:this.state.interests.concat(ea)});if(this.props.extraData.notice_group){this.refs.addedInterestNoticeGroup.addInterestsToNoticeGroup(ea);}else if(!this._suppressDialog)this.refs.categoryAddedDialog.setContentAndShow(ea);this._suppressDialog=false;},_onRemoveInterest:function(ca,da){var ea=this.state.removedInterests;ea[da]=true;this._sendEditPrefsRequest(ca,'del',[da]);var fa=this.state.interests,ga=fa.map(function(ha){return String(ha.id);}).indexOf(String(da));if(fa[ga].type==='interest')fa[ga].description=x._("Essa \u00e9 uma prefer\u00eancia que voc\u00ea adicionou.");this.setState({interests:fa});this.setState({removedInterests:ea});},_onUndoRemoveInterest:function(ca,da){var ea=this.state.removedInterests;delete ea[da];this._sendEditPrefsRequest(ca,'add',[da]);this.setState({removedInterests:ea});},_sendEditPrefsRequest:function(ca,da,ea){var fa=y.getURIBuilder().setInt('ad_id',this.props.adID).setString('entry_point',this.props.entrypoint).setEnum('action',da).setEnum('type',ca).setIntVector('fbids',ea).getURI();new r(fa).setErrorHandler(function(){window.location.reload();}).send();},_onSuggestionClick:function(ca,da,ea){if(da){var fa=[ca.id];this._sendEditPrefsRequest('interest','del',fa);this._removeListItem(ca);}else if(!da&&ea){var ga=ca.type||'interest';this._onUndoRemoveInterest(ga,ca.id);}else{var ha=(this.state.interests||[]).slice();ha.push(ca);this._setEntriesFromInterestsWithFBIDs(ha,true);}},_getInterestFBIDs:function(){var ca={};this.state.interests.forEach(function(da){ca[da.id]=true;});return ca;},_onFilterChange:function(ca){this.setState({filter:ca.value});},_onClickCarousel:function(){p.log(l.carousel_card_logging,this.props.adID,this.props.entrypoint);}});f.exports=ba;},null);
__d('AdsPreferencesDesktop',['AdsDaoGraph','AdsPreferencesDesktopView','AdInterfacesUiLogger','CurrentLocale','GraphAPI','React','ReactDOM','WebApiApplication'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p='ads_preferences',q={init:function(r,s,t,u,v,w,x,y){o.init(s,t.toString());var z=h.primedForLocale(k.get());j.setAppName(p);l.setErrorHandler(function(aa){});n.render(m.createElement(i,{adID:w,entrypoint:x,dao:z,extraData:y,initialInterests:u,suggestedInterests:v}),document.getElementById(r));}};f.exports=q;},null);